(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9536:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(9315)}])},9315:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return ep},default:function(){return eu}});var a=l(4246),n=l(8038),s=l.n(n),i=l(7378),o=l(7545),r=l(2384),d=l(2133),c=l(2750),p=l(3455),u=l(5563),h=l(8666),x=l(8633),m=l(2093),g=l(1195);let f=e=>{let[t,l]=(0,i.useState)(e),a=(0,i.useCallback)(e=>{l(e.target.value)},[]);return[t,a,l]};var b=l(4591),j=l(2528),v=l(5310),y=l(8461),k=l(4412),Z=l(3011);let C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function w(e){let{setIsModalOpen:t}=e,l=(0,k.I0)(),[n,s]=(0,i.useState)(!0),[o,r]=f(""),{signUpLoading:d}=(0,k.v9)(e=>e.user),{signUpDone:p}=(0,k.v9)(e=>e.user),{signUpError:u}=(0,k.v9)(e=>e.user),[h,x]=(0,i.useState)(!1),[m,g]=f(""),[w,S]=f(""),[I,E]=f(""),[D,F]=(0,i.useState)(!1),[z,W]=(0,i.useState)(!1);(0,i.useCallback)(e=>{E(e.target.value),F(e.target.value!==w)},[w,E]);let T=e=>{let t=!1;if(e){let l=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/.test(e);t=!!l}else t=!1;return t},M=()=>{t(!1)},A=(0,i.useCallback)(e=>{e.preventDefault(),w!==I?F(!0):T(o)&&""!=o.replace(" ","")?""==m.replace(" ","")?W(!0):l((0,Z.y1)({email:o,name:m,password:w})):x(!0)},[o,w,I,m]);return(0,i.useEffect)(()=>{console.log("signupDone",p),p&&!n&&(console.log("modal"),t(!1),l({type:Z.$Q})),s(!1)},[p]),(0,a.jsx)(j.Z,{open:!0,onClose:M,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:A,sx:C,children:[(0,a.jsx)(c.Z,{component:"h1",variant:"h5",sx:{textAlign:"center"},children:"회원가입"}),(0,a.jsx)(b.Z,{label:"이메일",name:"user-email",sx:{marginTop:3},fullWidth:!0,type:"email",value:o,required:!0,onChange:r}),h&&(0,a.jsx)("span",{style:{color:"red"},children:"Email 형식이 잘못되었습니다"}),(0,a.jsx)(b.Z,{label:"이름",name:"user-nick",sx:{marginTop:3},fullWidth:!0,value:m,required:!0,onChange:g}),z&&(0,a.jsx)("span",{style:{color:"red"},children:"이름을 입력해주세요"}),(0,a.jsx)(b.Z,{label:"비밀번호",fullWidth:!0,name:"user-password",sx:{marginTop:3},type:"password",value:w,required:!0,onChange:S}),(0,a.jsx)(b.Z,{label:"비밀번호체크",fullWidth:!0,name:"user-password-check",sx:{marginTop:3},type:"password",value:I,required:!0,onChange:E}),D&&(0,a.jsx)("span",{style:{color:"red"},children:"비밀번호가 일치하지 않습니다"}),u&&(0,a.jsx)("span",{style:{color:"red"},children:"회원가입 실패했습니다"}),(0,a.jsx)(y.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",loading:d,children:"확인"})]})})}var S=l(1230),I=l(1015),E=l(1157),D=l(4100),F=l(1062);let z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},W={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function T(e){let t=(0,k.I0)(),{user:l}=(0,k.v9)(e=>e.user),{postArray:n}=(0,k.v9)(e=>e.post),{hashtags:s}=(0,k.v9)(e=>e.post),{isEdit:o}=(0,k.v9)(e=>e.post),{editPostWithImagesDone:r}=(0,k.v9)(e=>e.post),{addPostError:d}=(0,k.v9)(e=>e.post),{editPostError:u}=(0,k.v9)(e=>e.post),m=(0,i.useRef)(null),[g,Z]=(0,i.useState)({name:""}),[C,w]=(0,i.useState)(!1),[T,M]=(0,i.useState)(!1),[A,B,P]=f(""),[R,N,O]=f(""),[_,q,L]=f(""),[V,U]=i.useState(!1),{addPostLoading:H}=(0,k.v9)(e=>e.post),{addPostDone:G}=(0,k.v9)(e=>e.post),{editPostDone:X}=(0,k.v9)(e=>e.post),[$,Q]=(0,i.useState)({title:"",desc:"",photos:[null]}),[Y,J]=(0,i.useState)($.photos||[]),K=(0,i.useCallback)(()=>{e.setuploadModalOpen(!1),e.setUploadModalClicked(!1),Q({title:"",desc:"",photos:[null]}),t({type:F.xM,data:!1})},[e]),{title:ee,desc:et,photos:el}=$,ea=()=>{U(!1)};(0,i.useRef)(null);let[en,es]=i.useState("상의"),[ei,eo]=i.useState("23SS"),[er,ed,ec]=f(""),[ep,eu]=(0,i.useState)([]),[eh,ex]=(0,i.useState)(""),em=e=>{es(e.target.value)},eg=e=>{eo(e.target.value)},ef=e=>{eb(e.target.files)},eb=(0,i.useCallback)(e=>{let t=[],l=[];if(void 0!=e){w(!0);for(let a=0;a<e.length;a++){let n=e[a];l.push(n);let s=new FileReader;s.readAsDataURL(n),s.addEventListener("load",()=>{let e={name:n.name,type:n.type,size:n.size,src:s.result};t.push(e),Q({...$,photos:el.concat(t)})})}J(Y.concat(l))}},[$,el,Y]),ej=(0,i.useCallback)(()=>{m.current&&m.current.click()},[m]),ev=(0,i.useCallback)(e=>{let t=e.target.parentElement;var l=Array.from(t.parentElement.children).indexOf(t);Q({...$,photos:[...el.slice(0,l+1),...el.slice(l+2)]}),J([...el.slice(0,l+1),...el.slice(l+2)]),2==$.photos.length&&w(!1)},[$,el]);(0,i.useEffect)(()=>{!e.uploadModalClicked&&e.clipboardFile&&eb(e.clipboardFile)},[e.clipboardFile,e.uploadModalClicked,e.uploadModalOpen]),(0,i.useEffect)(()=>{let e=e=>{e.clipboardData.files.length>0&&eb(e.clipboardData.files)};return window.addEventListener("paste",e),()=>{window.removeEventListener("paste",e)}},[$]);let ey=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),M(!0)},[]),ek=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),M(!1)},[]),eZ=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer,l=null==t?void 0:t.files;M(!1),eb(l)},[$]),[eC,ew]=i.useState({data:[{name:""}]}),eS=(0,i.useCallback)(()=>{t({type:F.tG}),U(!0)},[t]),eI=(0,i.useCallback)(a=>{if(""==R)a.preventDefault(),a.stopPropagation(),alert("브랜드입력 필수");else if(a.preventDefault(),a.stopPropagation(),o){var n;if(1==$.photos.length){alert("이미지 필수");return}let l=new FormData;Y[0]||Y.shift(),[].forEach.call(Y,e=>{let t=e.name||null;t?l.append("image",e):l.append("imagePath",e.src)}),l.append("postId",null===(n=e.postId)||void 0===n?void 0:n.toString()),l.append("brand",R.replaceAll(" ","")),l.append("link",_),l.append("category",en),l.append("season",ei),l.append("hashtag",er),l.append("reason",A),t({type:F.s4,data:l})}else{if(!Y){alert("이미지 필수");return}let e=new FormData;[].forEach.call(Y,t=>{e.append("image",t)}),e.append("userId",l.id),e.append("userName",l.userName),e.append("brand",R.replaceAll(" ","")),e.append("link",_),e.append("category",en),e.append("season",ei),e.append("hashtag",er),e.append("reason",A),t((0,F.q2)(e))}},[R,en,ei,er,A,_,l,t,Y,$.photos,o,e.postId]);(0,i.useEffect)(()=>{G&&(t({type:F.mN}),K()),X&&(t({type:F.qb}),K(),t({type:F.xM,data:!1}),e.setImageIndex&&e.setImageIndex(0)),r&&o&&(t({type:F.qb}),t({type:F.xM,data:!1}),e.setImageIndex&&e.setImageIndex(0))},[G,t,K,X,o,e,r]),(0,i.useEffect)(()=>{if(o){let l=n.find(t=>t.id===e.postId),a="";if(l.Hashtags.length>4)for(let e=0;e<l.Hashtags.length;e++){var t;let n=null===(t=l.Hashtags[e])||void 0===t?void 0:t.name;n!=l.category.toUpperCase()&&n!=l.season.toUpperCase()&&n!=l.brand.toUpperCase()&&n!=l.name.toUpperCase()&&(a=a.concat("#".concat(n," ")))}eu(l.Images),J(l.Images),es(l.category),eo(l.season),ec(a),O(l.brand),ex(l.brand),P(l.reason),L(l.link),w(!0),Q({...$,photos:el.concat(l.Images)})}},[o,n]);let eE=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer;eb(null==t?void 0:t.files)},[$]);return(0,a.jsxs)(a.Fragment,{children:[V&&(0,a.jsx)(j.Z,{open:!0,onClose:ea,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:z,children:[(0,a.jsx)("div",{className:"hashlistdiv",style:{height:"300px",overflow:"overlay"},children:s&&s.map((e,t)=>(0,a.jsxs)("li",{id:"hashlist",style:{listStyle:"none"},children:[" ","#",e.name]},t))}),(0,a.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:ea,children:"확인"})]})}),(0,a.jsx)(j.Z,{open:!0,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:eI,sx:W,children:[(0,a.jsx)(E.Z,{style:{position:"absolute",cursor:"pointer",top:"15px",right:"15px"},onClick:K}),(0,a.jsx)(c.Z,{sx:{textAlign:"center"},component:"h1",variant:"h5",children:"업로드"}),(0,a.jsx)(b.Z,{required:!0,label:"브랜드",fullWidth:!0,sx:{marginTop:"5px"},name:"user-brand",type:"text",value:R,variant:"standard",onChange:N}),(0,a.jsx)(b.Z,{label:"Link",fullWidth:!0,sx:{marginTop:"5px"},name:"user-link",type:"text",value:_,required:!0,variant:"standard",onChange:q}),(0,a.jsx)(b.Z,{label:"선정이유",fullWidth:!0,sx:{marginTop:"5px"},name:"user-link",type:"text",value:A,required:!0,variant:"standard",onChange:B}),(0,a.jsxs)(S.Z,{sx:{width:"40%",marginRight:"10%",marginTop:"25px"},children:[(0,a.jsx)(I.Z,{id:"demo-simple-select-label",children:"상의"}),(0,a.jsxs)(D.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"상의",value:en,label:"카테고리",required:!0,onChange:em,children:[(0,a.jsx)(p.Z,{value:"상의",children:"상의"}),(0,a.jsx)(p.Z,{value:"하의",children:"하의"}),(0,a.jsx)(p.Z,{value:"아우터",children:"아우터"}),(0,a.jsx)(p.Z,{value:"디테일",children:"디테일"}),(0,a.jsx)(p.Z,{value:"이미지",children:"이미지"}),(0,a.jsx)(p.Z,{value:"악세사리",children:"악세사리"})]})]}),(0,a.jsxs)(S.Z,{sx:{width:"40%",marginTop:"25px"},children:[(0,a.jsx)(I.Z,{id:"demo-simple-select-label",children:"23SS"}),(0,a.jsxs)(D.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"23SS",value:ei,label:"시즌",required:!0,onChange:eg,children:[(0,a.jsx)(p.Z,{value:"23SS",children:"23SS"}),(0,a.jsx)(p.Z,{value:"23FW",children:"23FW"})]})]}),(0,a.jsx)(b.Z,{id:"standard-basic",sx:{marginTop:"30px"},value:er,onChange:ed,fullWidth:!0,label:"해시태그입력 #검정 #반팔 ",variant:"outlined"}),(0,a.jsx)(h.Z,{variant:"contained",sx:{whiteSpace:"nowrap",marginRight:"5px",marginTop:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:eS,children:"#목록"}),(0,a.jsx)("div",{className:"file-upload",style:{marginTop:"10px"},children:(0,a.jsxs)("div",{className:"custom-form-group",children:[!C&&(0,a.jsxs)("div",{className:T?"custom-file-drop-area highlight":"custom-file-drop-area",onDragEnter:ey,onDragOver:ey,onDragLeave:ek,onDrop:eZ,children:[(0,a.jsx)("input",{type:"file",name:"photos",placeholder:"Enter photos",multiple:!1,id:"filephotos",onChange:ef}),(0,a.jsx)("label",{htmlFor:"filephotos",children:"이미지를 드래그해서 넣어주세요"})]}),(0,a.jsxs)("div",{className:"custom-file-preview",onDragEnter:ey,onDragOver:ey,onDragLeave:ek,onDrop:eE,children:[el.length>0&&el.map((e,t)=>0!=t?(0,a.jsxs)("div",{className:"prev-img",children:[(0,a.jsx)("span",{onClick:ev,children:"\xd7"}),e&&(0,a.jsx)("img",{src:e.src,alt:e.name})]},t):(0,a.jsx)(a.Fragment,{})),C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{onClick:ej,sx:{marginLeft:"54px",marginTop:"39px"}}),(0,a.jsx)("input",{type:"file",style:{visibility:"hidden"},name:"photos",placeholder:"Enter photos",multiple:!1,id:"filephotos",onChange:ef,ref:m})]}):(0,a.jsx)(a.Fragment,{})]})]})}),d&&(0,a.jsx)("span",{style:{color:"red"},children:"업로드 실패했습니다"}),X&&(0,a.jsx)("span",{style:{color:"red"},children:"업로드 실패했습니다"}),(0,a.jsx)("button",{id:"submit_bt",style:{display:"none"},type:"submit"}),(0,a.jsx)(y.Z,{type:"submit",loading:H,fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",children:"확인"})]})})]})}let M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function A(e){let{setloginModalOpen:t,loginModalOpen:l}=e,n=(0,k.I0)(),[s,o]=(0,i.useState)(!0),{logInDone:r}=(0,k.v9)(e=>e.user),{logInLoading:d}=(0,k.v9)(e=>e.user),{logInError:p}=(0,k.v9)(e=>e.user),[u,h]=f(""),[x,m]=f(""),g=()=>{t(!1)},C=(0,i.useCallback)(e=>{e.preventDefault(),""==u?alert("이메일을 입력해주세요"):""==x?alert("비밀번호를 입력해주세요"):n((0,Z.tP)({email:u,password:x}))},[u,x,n]);return(0,i.useEffect)(()=>{r&&!s&&(t(!1),n({type:Z.dy})),o(!1)},[r]),(0,a.jsx)(j.Z,{open:!0,onClose:g,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:C,sx:M,children:[(0,a.jsx)(c.Z,{component:"h1",variant:"h5",children:"로그인"}),(0,a.jsx)(b.Z,{label:"이메일",name:"user-email",fullWidth:!0,type:"email",value:u,required:!0,variant:"standard",onChange:h}),(0,a.jsx)(b.Z,{label:"비밀번호",name:"user-nick",type:"password",fullWidth:!0,value:x,required:!0,variant:"standard",onChange:m}),p&&(0,a.jsx)("span",{style:{marginTop:"10px",color:"#F73334"},children:" 로그인 정보가 일치하지 않습니다."}),(0,a.jsx)(y.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",loading:d,children:"로그인"})]})})}var B=l(9708);function P(e){let{}=e,[t,l,n]=f(""),s=(0,k.I0)(),o=(0,i.useRef)(null);(0,i.useEffect)(()=>{o.current&&o.current.focus()},[]);let r=i.useCallback(e=>{if(""==t)s((0,F.HV)());else if(t.split("#").length<2)alert("태그 앞에 #를 붙여주세요");else{let l=t.toUpperCase();e.preventDefault(),e.stopPropagation(),s({type:F.fS,data:{hashtags:"#"+l}}),n("")}},[s,t]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{onSubmit:r,style:{width:"70%",flex:"auto",marginLeft:"15%"},children:[(0,a.jsx)(d.Z,{type:"submit","aria-label":"search",sx:{display:{xs:"none",md:"inline-block"}},children:(0,a.jsx)(B.Z,{style:{fill:"#9A9A9A"}})}),(0,a.jsx)(b.Z,{id:"search-bar",className:"text",sx:{display:"inline-block",width:"80%"},value:t,onChange:l,label:"#상의 #검정",variant:"outlined",placeholder:"Search...",size:"small",inputRef:o})]})})}let R={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function N(e){let{setIsUserpage:t}=e,{user:l}=(0,k.v9)(e=>e.user),{logOutLoading:n}=(0,k.v9)(e=>e.user),{hashtags:s}=(0,k.v9)(e=>e.post),{isEdit:f}=(0,k.v9)(e=>e.post),[b,C]=(0,i.useState)(null),[S,I]=(0,i.useState)(!1),E=(0,k.I0)(),[D,z]=i.useState(!1),[W,M]=i.useState(!1),[B,N]=i.useState(null),[O,_]=i.useState(null),[q,L]=i.useState(!1),[V,U]=i.useState(!1),H=()=>{U(!1)},G=()=>{L(!0)},X=()=>{M(!0)},$=Boolean(B),Q=Boolean(O),Y=()=>{_(null)},J=()=>{N(null),Y()},K=(0,i.useCallback)(()=>{E((0,Z.vR)()),M(!1)},[]),ee=(0,i.useCallback)(()=>{l?(z(!0),I(!0)):M(!0)},[l]),et=e=>{_(e.currentTarget)};(0,i.useCallback)(()=>{alert("준비중입니다.")},[]);let el=(0,i.useCallback)(()=>{E({type:F.tG}),U(!0)},[E]),ea=(0,i.useCallback)(()=>{l?t(!0):alert("준비중입니다.")},[l]),en="primary-search-account-menu",es=(0,a.jsxs)(u.Z,{anchorEl:B,anchorOrigin:{vertical:"top",horizontal:"right"},id:en,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:$,onClose:J,children:[(0,a.jsx)(p.Z,{onClick:J,children:"Profile"}),(0,a.jsx)(p.Z,{onClick:J,children:"My account"})]}),ei="primary-search-account-menu-mobile",eo=(0,a.jsx)(u.Z,{anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},id:ei,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Q,onClose:Y,children:(0,a.jsx)(p.Z,{children:(0,a.jsx)("p",{children:"만드는 중입니다"})})});return(0,a.jsxs)(v.Z,{sx:{flexGrow:1},children:[q&&(0,a.jsx)(w,{setIsModalOpen:L}),l&&D&&!f&&(0,a.jsx)(T,{uploadModalClicked:S,setUploadModalClicked:I,setImageIndex:null,uploadModalOpen:D,setuploadModalOpen:z,postId:null,clipboardFile:b}),!l&&W&&(0,a.jsx)(A,{loginModalOpen:W,setloginModalOpen:M}),V&&(0,a.jsx)(j.Z,{open:!0,onClose:H,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:R,children:[(0,a.jsx)("div",{className:"hashlistdiv",style:{height:"300px",overflow:"overlay"},children:s&&s.map((e,t)=>(0,a.jsxs)("li",{id:"hashlist",style:{listStyle:"none",marginBottom:"5px"},children:[" ","#",e.name]},e.id))}),(0,a.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:H,children:"확인"})]})}),(0,a.jsx)(o.Z,{position:"static",style:{backgroundColor:"#FFF",color:"#000"},children:(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(h.Z,{variant:"contained",sx:{whiteSpace:"nowrap",marginRight:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:el,children:"#목록"}),(0,a.jsx)(c.Z,{noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}}}),(0,a.jsx)(v.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,a.jsx)(P,{}),(0,a.jsx)(v.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,a.jsxs)(v.Z,{sx:{display:{xs:"none",md:"flex"}},children:[(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(d.Z,{size:"large",edge:"end",sx:{marginRight:"10px"},"aria-label":"account of current user","aria-haspopup":"false",color:"primary",onClick:ee,children:(0,a.jsx)(x.Z,{})})}),l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"100%",marginRight:"5px",fontWeight:"bold",display:"inline-block",whiteSpace:"nowrap"},size:"small",onClick:K,loading:n,children:"로그아웃"}),(0,a.jsx)(d.Z,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":en,"aria-haspopup":"true",color:"primary",onClick:ea,children:(0,a.jsx)(m.Z,{})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"40%",marginRight:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:X,children:"로그인"}),(0,a.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"40%",fontWeight:"bold",display:"inline-block"},onClick:G,size:"small",children:"가입"})]})]}),(0,a.jsx)(v.Z,{sx:{display:{xs:"flex",md:"none"},float:"right"},children:(0,a.jsx)(d.Z,{size:"large","aria-label":"show more","aria-controls":ei,"aria-haspopup":"true",onClick:et,color:"primary",children:(0,a.jsx)(g.Z,{})})})]})}),eo,es]})}var O=l(5608),_=l(920),q=l(9989),L=l(9106),V=l(47),U=l(8091),H=l(6655),G=l(8729),X=l(4552),$=l(5861),Q=l(4062),Y=l(2420),J=l(7053),K=l(8717),ee=l(8751),et=l(9919);function el(){let e=(0,q.Z)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 8px;\n  flex-direction: row;\n  flex-wrap: wrap;\n"]);return el=function(){return e},e}let ea={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},en=(0,O.ZP)(X.Z)(el());function es(e){var t;let{logInDone:l}=(0,k.v9)(e=>e.user),{user:n}=(0,k.v9)(e=>e.user),{postArray:s}=(0,k.v9)(e=>e.post),o=(0,k.I0)(),[r,d]=(0,i.useState)(!1),[p,u]=(0,i.useState)(!1),{isEdit:x}=(0,k.v9)(e=>e.post),[m,g]=(0,i.useState)((null===(t=e.likers)||void 0===t?void 0:t.length)||0),[f,b]=(0,i.useState)(!1),[y,Z]=(0,i.useState)(!1),[C,w]=(0,i.useState)(0),[S,I]=i.useState(!1),[E,D]=i.useState(""),z=()=>{I(!1)},W=(0,i.useCallback)(()=>{n?(u(e=>!e),p?(o({type:F.VT,data:e.id}),g(e=>e-1)):(o({type:F.xD,data:e.id}),g(e=>e+1))):(alert("로그인 해주세요"),b(!0))},[n,p,e.id]),M=(0,i.useCallback)(()=>{n?I(!0):(alert("로그인 해주세요"),b(!0))},[n]),B=(0,i.useCallback)(()=>n?o({type:F.RR,data:e.id}):alert("로그인이 필요합니다."),[o,e.id,n]),P=(0,i.useCallback)(t=>(t.preventDefault(),t.stopPropagation(),n)?o({type:F.sV,data:e.id}):alert("로그인이 필요합니다."),[o,e.id,n]),R=()=>{if(!n)return alert("로그인이 필요합니다.");Z(!0),x||o({type:F.xM,data:!0})};(0,i.useEffect)(()=>{void 0==e.Images[C]||D("../".concat(e.Images[C].src))},[e.Images,C]);let N=(0,i.useCallback)(()=>{C<e.Images.length&&w(e=>e+1)},[e.Images,C]),O=(0,i.useCallback)(()=>{C>0&&w(e=>e-1)},[C]),_=i.useCallback((e,t)=>{e.preventDefault(),e.stopPropagation(),o({type:F.fS,data:{hashtags:"#"+t}}),window.scrollTo({top:0,behavior:"smooth"})},[o,e]);return(0,i.useEffect)(()=>{if((null==n?void 0:n.data)&&e.likers){let t=e.likers.find(e=>e.id===(null==n?void 0:n.data.id));t?u(!0):u(!1)}},[e.likers,n,e.id,l]),(0,a.jsxs)(a.Fragment,{children:[y&&x&&(0,a.jsx)(T,{setUploadModalClicked:d,uploadModalClicked:r,setImageIndex:w,setuploadModalOpen:Z,uploadModalOpen:y,postId:e.id,clipboardFile:null}),f&&(0,a.jsx)(A,{loginModalOpen:f,setloginModalOpen:b}),S&&(0,a.jsx)(j.Z,{open:!0,onClose:z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:P,sx:ea,children:[(0,a.jsx)(c.Z,{component:"h2",variant:"h5",sx:{textAlign:"center",marginBottom:"15px"},children:"정말 삭제하시겠습니까?"}),(0,a.jsx)(h.Z,{type:"submit",variant:"contained",sx:{mt:3,mb:2,width:"40%",marginLeft:"5%",marginRight:"10%"},size:"large",children:"삭제"}),(0,a.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,width:"40%"},size:"large",onClick:z,children:"취소"})]})}),(0,a.jsxs)(L.Z,{sx:{maxWidth:"15",marginTop:"20px",boxShadow:"none",position:"relative"},children:[(0,a.jsx)($.Z,{href:"".concat(e.link),target:"_blank",children:(0,a.jsx)(U.Z,{component:"img",height:"400",image:E})}),e.Images&&e.Images.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.Z,{onClick:N,style:{position:"absolute",top:"30%",right:"0%",zIndex:100,color:"#3D3D3D",cursor:"pointer"}}),(0,a.jsx)(K.Z,{style:{position:"absolute",top:"30%",right:"0%",color:"#B5B5B7"}}),(0,a.jsx)(J.Z,{onClick:O,style:{position:"absolute",top:"30%",left:"0%",zIndex:100,color:"#3D3D3D",cursor:"pointer"}}),(0,a.jsx)(K.Z,{style:{position:"absolute",top:"30%",left:"0%",color:"#B5B5B7"}})]}),(0,a.jsxs)(V.Z,{children:[(0,a.jsxs)("div",{style:{width:"100%",marginBottom:"3%",display:"inline-block"},children:[(0,a.jsx)(Q.Z,{id:"copyicon",onClick:B,sx:{":hover":{opacity:"50%"},cursor:"pointer",marginRight:"17px",opacity:"25%",width:"0.9em"}}),(0,a.jsx)(G.Z,{id:"editicon",onClick:R,sx:{":hover":{opacity:"50%"},cursor:"pointer",opacity:"25%",width:"0.9em"}}),(0,a.jsx)(H.Z,{id:"delicon",onClick:M,sx:{":hover":{opacity:"50%"},cursor:"pointer",marginLeft:"17px",opacity:"25%",width:"0.9em"}})]}),(0,a.jsx)(c.Z,{children:(0,a.jsx)("span",{style:{fontWeight:900,fontSize:"130%",marginBottom:"4%"},children:"".concat(e.brand)})}),(0,a.jsx)(c.Z,{sx:{fontWeight:900,marginBottom:"2%"},variant:"subtitle2",color:"text.secondary",children:"참고할 부분"}),(0,a.jsx)(c.Z,{sx:{marginBottom:"1%"},variant:"body2",color:"text.secondary",children:e.reason})]}),(0,a.jsxs)(en,{children:[(0,a.jsx)("div",{style:{width:"100%",display:"inline-block",marginBottom:"5px"},children:(0,a.jsxs)("div",{style:{width:"20%",marginBottom:"3%",verticalAlign:"center",display:"inline-block",float:"left"},children:[p?(0,a.jsx)(ee.Z,{onClick:W,sx:{cursor:"pointer",opacity:"80%",color:"#FF3040"}}):(0,a.jsx)(et.Z,{onClick:W,sx:{cursor:"pointer",opacity:"40%"}}),(0,a.jsx)("span",{style:{position:"relative",top:"-7px",marginLeft:"5px",color:"#A6A6A6"},children:m||0})]})}),e.hashtags.map((e,t)=>(0,a.jsxs)("div",{style:{margin:"2px"},children:[(0,a.jsx)("div",{className:"Tag".concat(e.PostHashtag.HashtagId%8," Tag"),style:{display:"inline-block",margin:"2px"},onClick:t=>{_(t,e.name)},children:(0,a.jsxs)("a",{href:"",children:["#",e.name]})})," ","\xa0"]},t)),(0,a.jsx)("div",{style:{width:"100%"},children:(0,a.jsxs)("span",{style:{float:"left",color:"#A6A6A6",fontSize:"80%",marginTop:"10px"},children:["작성자 : ",e.name]})})]})]})]})}var ei=l(4384);let eo=(0,O.ZP)(_.Z)(e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff",...t.typography.body2,padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary}});function er(e){let{}=e,{postArray:t}=(0,k.v9)(e=>e.post);return(0,i.useEffect)(()=>{},[t]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(v.Z,{sx:{flexGrow:1},children:(0,a.jsx)(ei.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:t&&t.map((e,t)=>(0,a.jsx)(ei.ZP,{item:!0,xs:6,sm:4,md:3,lg:4,children:(0,a.jsx)(eo,{children:(0,a.jsxs)("li",{style:{maxWidth:"320px",display:"inline-block"},children:[(0,a.jsx)(es,{index:t,name:e.name,id:e.id,likers:e.Likers,category:e.category,brand:e.brand,Images:e.Images,link:e.link,season:e.season,hashtags:e.Hashtags,reason:e.reason})," "]})})},e.id))})})})}let ed={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function ec(e){let{}=e,[t,l]=f("");(0,k.I0)(),(0,i.useRef)(null);let[n,s]=(0,i.useState)(!1),o=()=>{s(!1)};return(0,i.useEffect)(()=>{new Date().getDate()-31==0&&s(!0)},[]),(0,a.jsx)(a.Fragment,{children:n&&(0,a.jsx)(j.Z,{open:!0,onClose:o,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:ed,children:[(0,a.jsx)("h1",{children:" 3.31 업데이트 안내 \uD83D\uDC07"}),(0,a.jsx)("p",{style:{marginTop:"-20px",marginBottom:"20px",color:"#7F7F7F"},children:" *하루동안 떠요"}),(0,a.jsx)("h2",{style:{marginBottom:"10px"},children:" 기능 추가 목록 "}),(0,a.jsxs)("ol",{type:"1",children:[(0,a.jsx)("li",{style:{marginBottom:"10px"},children:" 이미지 복사 후 (클립보드 복사 or PrintScreen) "}),(0,a.jsx)("li",{style:{marginBottom:"10px"},children:" 바탕화면에서 Ctrl + v 누르면 자동으로 이미지 등록 "}),(0,a.jsx)("li",{style:{marginBottom:"10px"},children:" 업로드 화면에서도 마찬가지 "})]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:o,children:"확인"})]})})})}var ep=!0;function eu(){let{user:e}=(0,k.v9)(e=>e.user),{loadPostLoading:t}=(0,k.v9)(e=>e.post),{onInfiniteScroll:l}=(0,k.v9)(e=>e.post),{hasMorePost:n}=(0,k.v9)(e=>e.post),{postArray:o}=(0,k.v9)(e=>e.post),r=(0,k.I0)(),[d,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{function e(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-350&&n&&!t&&l){let e=o[o.length-1].id;r({type:F.EG,data:e})}}return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[n,t,r,o,l]);let p=(0,i.useCallback)(()=>{r({type:F.kT}),r((0,F.HV)())},[r]),u=(0,i.useCallback)(()=>{r({type:F.qN,data:null})},[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:"Crump REF"}),(0,a.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,a.jsx)(ec,{}),(0,a.jsxs)("div",{style:{margin:"auto",width:"80%"},children:[(0,a.jsx)("a",{onClick:p,children:(0,a.jsx)("h1",{id:"title",style:{cursor:"pointer"},children:"CRUMP REFERENCE"})}),(0,a.jsx)("div",{style:{marginBottom:"40px"},children:(0,a.jsx)(N,{setIsUserpage:c})}),(0,a.jsx)("div",{style:{marginBottom:"10px"},children:d&&(0,a.jsx)("button",{onClick:u,children:" 내가 작성한 순 "})}),(0,a.jsx)(er,{}),t&&(0,a.jsx)("div",{id:"bottomloading",children:(0,a.jsx)("span",{style:{fontSize:"240%"},children:" 로딩중..."})})]})]})}}},function(e){e.O(0,[633,774,888,179],function(){return e(e.s=9536)}),_N_E=e.O()}]);