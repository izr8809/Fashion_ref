(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9536:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8725)}])},8725:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return eh},default:function(){return ex}});var l=a(4246),n=a(8038),s=a.n(n),i=a(7378),o=a(7545),r=a(2384),d=a(2133),c=a(2750),p=a(3455),u=a(5563),h=a(8666),x=a(8633),m=a(2093),g=a(1195);let f=e=>{let[t,a]=(0,i.useState)(e),l=(0,i.useCallback)(e=>{a(e.target.value)},[]);return[t,l,a]};var b=a(4591),j=a(2528),v=a(5310),y=a(8461),k=a(4412),Z=a(3011);let C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function w(e){let{setIsModalOpen:t}=e,a=(0,k.I0)(),[n,s]=(0,i.useState)(!0),[o,r]=f(""),{signUpLoading:d}=(0,k.v9)(e=>e.user),{signUpDone:p}=(0,k.v9)(e=>e.user),{signUpError:u}=(0,k.v9)(e=>e.user),[h,x]=(0,i.useState)(!1),[m,g]=f(""),[w,S]=f(""),[I,E]=f(""),[W,D]=(0,i.useState)(!1),[z,F]=(0,i.useState)(!1);(0,i.useCallback)(e=>{E(e.target.value),D(e.target.value!==w)},[w,E]);let T=e=>{let t=!1;if(e){let a=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/.test(e);t=!!a}else t=!1;return t},A=()=>{t(!1)},M=(0,i.useCallback)(e=>{e.preventDefault(),w!==I?D(!0):T(o)&&""!=o.replace(" ","")?""==m.replace(" ","")?F(!0):a((0,Z.y1)({email:o,name:m,password:w})):x(!0)},[o,w,I,m]);return(0,i.useEffect)(()=>{console.log("signupDone",p),p&&!n&&(console.log("modal"),t(!1),a({type:Z.$Q})),s(!1)},[p]),(0,l.jsx)(j.Z,{open:!0,onClose:A,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:M,sx:C,children:[(0,l.jsx)(c.Z,{component:"h1",variant:"h5",sx:{textAlign:"center"},children:"회원가입"}),(0,l.jsx)(b.Z,{label:"이메일",name:"user-email",sx:{marginTop:3},fullWidth:!0,type:"email",value:o,required:!0,onChange:r}),h&&(0,l.jsx)("span",{style:{color:"red"},children:"Email 형식이 잘못되었습니다"}),(0,l.jsx)(b.Z,{label:"이름",name:"user-nick",sx:{marginTop:3},fullWidth:!0,value:m,required:!0,onChange:g}),z&&(0,l.jsx)("span",{style:{color:"red"},children:"이름을 입력해주세요"}),(0,l.jsx)(b.Z,{label:"비밀번호",fullWidth:!0,name:"user-password",sx:{marginTop:3},type:"password",value:w,required:!0,onChange:S}),(0,l.jsx)(b.Z,{label:"비밀번호체크",fullWidth:!0,name:"user-password-check",sx:{marginTop:3},type:"password",value:I,required:!0,onChange:E}),W&&(0,l.jsx)("span",{style:{color:"red"},children:"비밀번호가 일치하지 않습니다"}),u&&(0,l.jsx)("span",{style:{color:"red"},children:"회원가입 실패했습니다"}),(0,l.jsx)(y.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",loading:d,children:"확인"})]})})}var S=a(1230),I=a(1015),E=a(1157),W=a(4100),D=a(1062);let z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function T(e){let t=(0,k.I0)(),{user:a}=(0,k.v9)(e=>e.user),{postArray:n}=(0,k.v9)(e=>e.post),{hashtags:s}=(0,k.v9)(e=>e.post),{isEdit:o}=(0,k.v9)(e=>e.post),{editPostWithImagesDone:r}=(0,k.v9)(e=>e.post),{addPostError:d}=(0,k.v9)(e=>e.post),{editPostError:u}=(0,k.v9)(e=>e.post),m=(0,i.useRef)(null),[g,Z]=(0,i.useState)({name:""}),[C,w]=(0,i.useState)(!1),[T,A]=(0,i.useState)(!1),[M,B]=(0,i.useState)(""),[P,R,N]=f(""),[O,_,q]=f(""),[L,U,V]=f(""),[H,G]=i.useState(!1),{addPostLoading:X}=(0,k.v9)(e=>e.post),{addPostDone:$}=(0,k.v9)(e=>e.post),{editPostDone:Q}=(0,k.v9)(e=>e.post),[Y,J]=(0,i.useState)({title:"",desc:"",photos:[null]}),[K,ee]=(0,i.useState)(Y.photos||[]),et=(0,i.useCallback)(()=>{e.setuploadModalOpen(!1),e.setUploadModalClicked(!1),J({title:"",desc:"",photos:[null]}),t({type:D.xM,data:!1})},[e]),{title:ea,desc:el,photos:en}=Y,es=()=>{G(!1)};(0,i.useRef)(null);let[ei,eo]=i.useState("상의"),[er,ed]=i.useState("23SS"),[ec,ep,eu]=f(""),[eh,ex]=(0,i.useState)([]),[em,eg]=(0,i.useState)(""),ef=e=>{eo(e.target.value)},eb=e=>{ed(e.target.value)},ej=e=>{ev(e.target.files)},ev=(0,i.useCallback)(e=>{let t=[],a=[];if(void 0!=e){w(!0);for(let l=0;l<e.length;l++){let n=e[l];a.push(n);let s=new FileReader;s.readAsDataURL(n),s.addEventListener("load",()=>{let e={name:n.name,type:n.type,size:n.size,src:s.result};t.push(e),J({...Y,photos:en.concat(t)})})}ee(K.concat(a))}},[Y,en,K]),ey=(0,i.useCallback)(()=>{m.current&&m.current.click()},[m]),ek=(0,i.useCallback)(e=>{let t=e.target.parentElement;var a=Array.from(t.parentElement.children).indexOf(t);J({...Y,photos:[...en.slice(0,a+1),...en.slice(a+2)]}),ee([...en.slice(0,a+1),...en.slice(a+2)]),2==Y.photos.length&&w(!1)},[Y,en]);(0,i.useEffect)(()=>{!e.uploadModalClicked&&e.clipboardFile&&ev(e.clipboardFile)},[e.clipboardFile,e.uploadModalClicked,e.uploadModalOpen]),(0,i.useEffect)(()=>{let e=e=>{e.clipboardData.files.length>0&&ev(e.clipboardData.files)};return window.addEventListener("paste",e),()=>{window.removeEventListener("paste",e)}},[Y]);let eZ=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),A(!0)},[]),eC=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),A(!1)},[]),ew=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer,a=null==t?void 0:t.files;A(!1),ev(a)},[Y]),[eS,eI]=i.useState({data:[{name:""}]}),eE=(0,i.useCallback)(()=>{t({type:D.tG}),G(!0)},[t]),eW=(0,i.useCallback)(l=>{if(""==O)l.preventDefault(),l.stopPropagation(),alert("브랜드입력 필수");else if(l.preventDefault(),l.stopPropagation(),o){var n;if(1==Y.photos.length){alert("이미지 필수");return}let a=new FormData;K[0]||K.shift(),[].forEach.call(K,e=>{let t=e.name||null;t?a.append("image",e):a.append("imagePath",e.src)}),a.append("postId",null===(n=e.postId)||void 0===n?void 0:n.toString()),a.append("brand",O.replaceAll(" ","")),a.append("link",L),a.append("category",ei),a.append("season",er),a.append("hashtag",ec),a.append("reason",P),a.append("name",M),t({type:D.s4,data:a})}else{if(!K){alert("이미지 필수");return}let e=new FormData;[].forEach.call(K,t=>{e.append("image",t)}),e.append("userId",a.id),e.append("userName",a.userName),e.append("brand",O.replaceAll(" ","")),e.append("link",L),e.append("category",ei),e.append("season",er),e.append("hashtag",ec),e.append("reason",P),t((0,D.q2)(e))}},[O,ei,er,ec,P,L,a,t,K,Y.photos,o,e.postId]);(0,i.useEffect)(()=>{$&&(t({type:D.mN}),et()),Q&&(t({type:D.qb}),et(),t({type:D.xM,data:!1}),e.setImageIndex&&e.setImageIndex(0)),r&&o&&(t({type:D.qb}),t({type:D.xM,data:!1}),e.setImageIndex&&e.setImageIndex(0))},[$,t,et,Q,o,e,r]),(0,i.useEffect)(()=>{if(o){let a=n.find(t=>t.id===e.postId),l="";if(a.Hashtags.length>4)for(let e=0;e<a.Hashtags.length;e++){var t;let n=null===(t=a.Hashtags[e])||void 0===t?void 0:t.name;n!=a.category.toUpperCase()&&n!=a.season.toUpperCase()&&n!=a.brand.toUpperCase()&&n!=a.name.toUpperCase()&&(l=l.concat("#".concat(n," ")))}ex(a.Images),ee(a.Images),B(a.name),eo(a.category),ed(a.season),eu(l),q(a.brand),eg(a.brand),N(a.reason),V(a.link),w(!0),J({...Y,photos:en.concat(a.Images)})}},[o,n]);let eD=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer;ev(null==t?void 0:t.files)},[Y]);return(0,l.jsxs)(l.Fragment,{children:[H&&(0,l.jsx)(j.Z,{open:!0,onClose:es,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:z,children:[(0,l.jsx)("div",{className:"hashlistdiv",style:{height:"300px",overflow:"overlay"},children:s&&s.map((e,t)=>(0,l.jsxs)("li",{id:"hashlist",style:{listStyle:"none"},children:[" ","#",e.name]},t))}),(0,l.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:es,children:"확인"})]})}),(0,l.jsx)(j.Z,{open:!0,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:eW,sx:F,children:[(0,l.jsx)(E.Z,{style:{position:"absolute",cursor:"pointer",top:"15px",right:"15px"},onClick:et}),(0,l.jsx)(c.Z,{sx:{textAlign:"center"},component:"h1",variant:"h5",children:"업로드"}),(0,l.jsx)(b.Z,{required:!0,label:"브랜드",fullWidth:!0,sx:{marginTop:"5px"},name:"user-brand",type:"text",value:O,variant:"standard",onChange:_}),(0,l.jsx)(b.Z,{label:"Link",fullWidth:!0,sx:{marginTop:"5px"},name:"user-link",type:"text",value:L,required:!0,variant:"standard",onChange:U}),(0,l.jsx)(b.Z,{label:"선정이유",fullWidth:!0,sx:{marginTop:"5px"},name:"user-link",type:"text",value:P,required:!0,variant:"standard",onChange:R}),(0,l.jsxs)(S.Z,{sx:{width:"40%",marginRight:"10%",marginTop:"25px"},children:[(0,l.jsx)(I.Z,{id:"demo-simple-select-label",children:"상의"}),(0,l.jsxs)(W.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"상의",value:ei,label:"카테고리",required:!0,onChange:ef,children:[(0,l.jsx)(p.Z,{value:"상의",children:"상의"}),(0,l.jsx)(p.Z,{value:"하의",children:"하의"}),(0,l.jsx)(p.Z,{value:"아우터",children:"아우터"}),(0,l.jsx)(p.Z,{value:"디테일",children:"디테일"}),(0,l.jsx)(p.Z,{value:"이미지",children:"이미지"}),(0,l.jsx)(p.Z,{value:"악세사리",children:"악세사리"})]})]}),(0,l.jsxs)(S.Z,{sx:{width:"40%",marginTop:"25px"},children:[(0,l.jsx)(I.Z,{id:"demo-simple-select-label",children:"23SS"}),(0,l.jsxs)(W.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"23SS",value:er,label:"시즌",required:!0,onChange:eb,children:[(0,l.jsx)(p.Z,{value:"23SS",children:"23SS"}),(0,l.jsx)(p.Z,{value:"23FW",children:"23FW"})]})]}),(0,l.jsx)(b.Z,{id:"standard-basic",sx:{marginTop:"30px"},value:ec,onChange:ep,fullWidth:!0,label:"해시태그입력 #검정 #반팔 ",variant:"outlined"}),(0,l.jsx)(h.Z,{variant:"contained",sx:{whiteSpace:"nowrap",marginRight:"5px",marginTop:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:eE,children:"#목록"}),(0,l.jsx)("div",{className:"file-upload",style:{marginTop:"10px"},children:(0,l.jsxs)("div",{className:"custom-form-group",children:[!C&&(0,l.jsxs)("div",{className:T?"custom-file-drop-area highlight":"custom-file-drop-area",onDragEnter:eZ,onDragOver:eZ,onDragLeave:eC,onDrop:ew,children:[(0,l.jsx)("input",{type:"file",name:"photos",placeholder:"Enter photos",multiple:!1,id:"filephotos",onChange:ej}),(0,l.jsx)("label",{htmlFor:"filephotos",children:"이미지를 드래그해서 넣어주세요"})]}),(0,l.jsxs)("div",{className:"custom-file-preview",onDragEnter:eZ,onDragOver:eZ,onDragLeave:eC,onDrop:eD,children:[en.length>0&&en.map((e,t)=>0!=t?(0,l.jsxs)("div",{className:"prev-img",children:[(0,l.jsx)("span",{onClick:ek,children:"\xd7"}),e&&(0,l.jsx)("img",{src:e.src,alt:e.name})]},t):(0,l.jsx)(l.Fragment,{})),C?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.Z,{onClick:ey,sx:{marginLeft:"54px",marginTop:"39px"}}),(0,l.jsx)("input",{type:"file",style:{visibility:"hidden"},name:"photos",placeholder:"Enter photos",multiple:!1,id:"filephotos",onChange:ej,ref:m})]}):(0,l.jsx)(l.Fragment,{})]})]})}),d&&(0,l.jsx)("span",{style:{color:"red"},children:"업로드 실패했습니다"}),Q&&(0,l.jsx)("span",{style:{color:"red"},children:"업로드 실패했습니다"}),(0,l.jsx)("button",{id:"submit_bt",style:{display:"none"},type:"submit"}),(0,l.jsx)(y.Z,{type:"submit",loading:X,fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",children:"확인"})]})})]})}let A={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function M(e){let{setloginModalOpen:t,loginModalOpen:a}=e,n=(0,k.I0)(),[s,o]=(0,i.useState)(!0),{logInDone:r}=(0,k.v9)(e=>e.user),{logInLoading:d}=(0,k.v9)(e=>e.user),{logInError:p}=(0,k.v9)(e=>e.user),[u,h]=f(""),[x,m]=f(""),g=()=>{t(!1)},C=(0,i.useCallback)(e=>{e.preventDefault(),""==u?alert("이메일을 입력해주세요"):""==x?alert("비밀번호를 입력해주세요"):n((0,Z.tP)({email:u,password:x}))},[u,x,n]);return(0,i.useEffect)(()=>{r&&!s&&(t(!1),n({type:Z.dy})),o(!1)},[r]),(0,l.jsx)(j.Z,{open:!0,onClose:g,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:C,sx:A,children:[(0,l.jsx)(c.Z,{component:"h1",variant:"h5",children:"로그인"}),(0,l.jsx)(b.Z,{label:"이메일",name:"user-email",fullWidth:!0,type:"email",value:u,required:!0,variant:"standard",onChange:h}),(0,l.jsx)(b.Z,{label:"비밀번호",name:"user-nick",type:"password",fullWidth:!0,value:x,required:!0,variant:"standard",onChange:m}),p&&(0,l.jsx)("span",{style:{marginTop:"10px",color:"#F73334"},children:" 로그인 정보가 일치하지 않습니다."}),(0,l.jsx)(y.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",loading:d,children:"로그인"})]})})}var B=a(9708);function P(e){let{setIsUserpage:t}=e,[a,n,s]=f(""),o=(0,k.I0)(),r=(0,i.useRef)(null);(0,i.useEffect)(()=>{r.current&&r.current.focus()},[]);let c=i.useCallback(e=>{if(""==a)o((0,D.HV)());else if(a.split("#").length<2)alert("태그 앞에 #를 붙여주세요");else{let l=a.toUpperCase();e.preventDefault(),e.stopPropagation(),o({type:D.fS,data:{hashtags:"#"+l}}),s(""),t(!1)}},[o,a]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("form",{onSubmit:c,style:{width:"70%",flex:"auto",marginLeft:"15%"},children:[(0,l.jsx)(d.Z,{type:"submit","aria-label":"search",sx:{display:{xs:"none",md:"inline-block"}},children:(0,l.jsx)(B.Z,{style:{fill:"#9A9A9A"}})}),(0,l.jsx)(b.Z,{id:"search-bar",className:"text",sx:{display:"inline-block",width:"80%","> div":{width:"100%"}},value:a,onChange:n,label:"#상의 #검정",variant:"outlined",placeholder:"Search...",size:"small",inputRef:r})]})})}let R={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function N(e){let{setIsUserpage:t}=e,{user:a}=(0,k.v9)(e=>e.user),{logOutLoading:n}=(0,k.v9)(e=>e.user),{hashtags:s}=(0,k.v9)(e=>e.post),{isEdit:f}=(0,k.v9)(e=>e.post),[b,C]=(0,i.useState)(null),[S,I]=(0,i.useState)(!1),E=(0,k.I0)(),[W,z]=i.useState(!1),[F,A]=i.useState(!1),[B,N]=i.useState(null),[O,_]=i.useState(null),[q,L]=i.useState(!1),[U,V]=i.useState(!1),H=()=>{V(!1)},G=()=>{L(!0)},X=()=>{A(!0)},$=Boolean(B),Q=Boolean(O),Y=()=>{_(null)},J=()=>{N(null),Y()},K=(0,i.useCallback)(()=>{E((0,Z.vR)()),A(!1)},[]),ee=(0,i.useCallback)(()=>{a?(z(!0),I(!0)):A(!0)},[a]),et=e=>{_(e.currentTarget)};(0,i.useCallback)(()=>{alert("준비중입니다.")},[]);let ea=(0,i.useCallback)(()=>{E({type:D.tG}),V(!0)},[E]),el=(0,i.useCallback)(()=>{a?(t(!0),E({type:D.qN,data:null}),E({type:D.PS})):alert("준비중입니다.")},[a]),en="primary-search-account-menu",es=(0,l.jsxs)(u.Z,{anchorEl:B,anchorOrigin:{vertical:"top",horizontal:"right"},id:en,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:$,onClose:J,children:[(0,l.jsx)(p.Z,{onClick:J,children:"Profile"}),(0,l.jsx)(p.Z,{onClick:J,children:"My account"})]}),ei="primary-search-account-menu-mobile",eo=(0,l.jsx)(u.Z,{anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},id:ei,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Q,onClose:Y,children:(0,l.jsx)(p.Z,{children:(0,l.jsx)("p",{children:"만드는 중입니다"})})});return(0,l.jsxs)(v.Z,{sx:{flexGrow:1},children:[q&&(0,l.jsx)(w,{setIsModalOpen:L}),a&&W&&!f&&(0,l.jsx)(T,{uploadModalClicked:S,setUploadModalClicked:I,setImageIndex:null,uploadModalOpen:W,setuploadModalOpen:z,postId:null,clipboardFile:b}),!a&&F&&(0,l.jsx)(M,{loginModalOpen:F,setloginModalOpen:A}),U&&(0,l.jsx)(j.Z,{open:!0,onClose:H,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:R,children:[(0,l.jsx)("div",{className:"hashlistdiv",style:{height:"300px",overflow:"overlay"},children:s&&s.map((e,t)=>(0,l.jsxs)("li",{id:"hashlist",style:{listStyle:"none",marginBottom:"5px"},children:[" ","#",e.name]},e.id))}),(0,l.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:H,children:"확인"})]})}),(0,l.jsx)(o.Z,{position:"static",style:{backgroundColor:"#FFF",color:"#000"},children:(0,l.jsxs)(r.Z,{children:[(0,l.jsx)(h.Z,{variant:"contained",sx:{whiteSpace:"nowrap",marginRight:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:ea,children:"#목록"}),(0,l.jsx)(c.Z,{noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}}}),(0,l.jsx)(v.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,l.jsx)(P,{setIsUserpage:t}),(0,l.jsx)(v.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,l.jsxs)(v.Z,{sx:{display:{xs:"none",md:"flex"}},children:[(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(d.Z,{size:"large",edge:"end",sx:{marginRight:"10px"},"aria-label":"account of current user","aria-haspopup":"false",color:"primary",onClick:ee,children:(0,l.jsx)(x.Z,{})})}),a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"100%",marginRight:"5px",fontWeight:"bold",display:"inline-block",whiteSpace:"nowrap"},size:"small",onClick:K,loading:n,children:"로그아웃"}),(0,l.jsx)(d.Z,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":en,"aria-haspopup":"true",color:"primary",onClick:el,children:(0,l.jsx)(m.Z,{})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"40%",marginRight:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:X,children:"로그인"}),(0,l.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"40%",fontWeight:"bold",display:"inline-block"},onClick:G,size:"small",children:"가입"})]})]}),(0,l.jsx)(v.Z,{sx:{display:{xs:"flex",md:"none"},float:"right"},children:(0,l.jsx)(d.Z,{size:"large","aria-label":"show more","aria-controls":ei,"aria-haspopup":"true",onClick:et,color:"primary",children:(0,l.jsx)(g.Z,{})})})]})}),eo,es]})}var O=a(5608),_=a(920),q=a(9989),L=a(9106),U=a(47),V=a(8091),H=a(6655),G=a(8729),X=a(4552),$=a(5861),Q=a(4062),Y=a(2420),J=a(7053),K=a(8717),ee=a(8751),et=a(9919);function ea(){let e=(0,q.Z)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 8px;\n  flex-direction: row;\n  flex-wrap: wrap;\n"]);return ea=function(){return e},e}let el={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},en=(0,O.ZP)(X.Z)(ea());function es(e){var t;let{logInDone:a}=(0,k.v9)(e=>e.user),{user:n}=(0,k.v9)(e=>e.user),{postArray:s}=(0,k.v9)(e=>e.post),o=(0,k.I0)(),[r,d]=(0,i.useState)(!1),[p,u]=(0,i.useState)(!1),{isEdit:x}=(0,k.v9)(e=>e.post),[m,g]=(0,i.useState)((null===(t=e.likers)||void 0===t?void 0:t.length)||0),[f,b]=(0,i.useState)(!1),[y,Z]=(0,i.useState)(!1),[C,w]=(0,i.useState)(0),[S,I]=i.useState(!1),[E,W]=i.useState(""),z=()=>{I(!1)},F=(0,i.useCallback)(()=>{n?(u(e=>!e),p?(o({type:D.VT,data:e.id}),g(e=>e-1)):(o({type:D.xD,data:e.id}),g(e=>e+1))):(alert("로그인 해주세요"),b(!0))},[n,p,e.id]),A=(0,i.useCallback)(()=>{n?I(!0):(alert("로그인 해주세요"),b(!0))},[n]),B=(0,i.useCallback)(()=>n?o({type:D.RR,data:e.id}):alert("로그인이 필요합니다."),[o,e.id,n]),P=(0,i.useCallback)(t=>(t.preventDefault(),t.stopPropagation(),n)?o({type:D.sV,data:e.id}):alert("로그인이 필요합니다."),[o,e.id,n]),R=()=>{if(!n)return alert("로그인이 필요합니다.");Z(!0),x||o({type:D.xM,data:!0})};(0,i.useEffect)(()=>{void 0==e.Images[C]||W("../".concat(e.Images[C].src))},[e.Images,C]);let N=(0,i.useCallback)(()=>{C<e.Images.length&&w(e=>e+1)},[e.Images,C]),O=(0,i.useCallback)(()=>{C>0&&w(e=>e-1)},[C]),_=i.useCallback((t,a)=>{t.preventDefault(),t.stopPropagation(),o({type:D.fS,data:{hashtags:"#"+a}}),e.setIsUserpage(!1),window.scrollTo({top:0,behavior:"smooth"})},[o,e]);return(0,i.useEffect)(()=>{if((null==n?void 0:n.data)&&e.likers){let t=e.likers.find(e=>e.id===(null==n?void 0:n.data.id));t?u(!0):u(!1)}},[e.likers,n,e.id,a]),(0,l.jsxs)(l.Fragment,{children:[y&&x&&(0,l.jsx)(T,{setUploadModalClicked:d,uploadModalClicked:r,setImageIndex:w,setuploadModalOpen:Z,uploadModalOpen:y,postId:e.id,clipboardFile:null}),f&&(0,l.jsx)(M,{loginModalOpen:f,setloginModalOpen:b}),S&&(0,l.jsx)(j.Z,{open:!0,onClose:z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:P,sx:el,children:[(0,l.jsx)(c.Z,{component:"h2",variant:"h5",sx:{textAlign:"center",marginBottom:"15px"},children:"정말 삭제하시겠습니까?"}),(0,l.jsx)(h.Z,{type:"submit",variant:"contained",sx:{mt:3,mb:2,width:"40%",marginLeft:"5%",marginRight:"10%"},size:"large",children:"삭제"}),(0,l.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,width:"40%"},size:"large",onClick:z,children:"취소"})]})}),(0,l.jsxs)(L.Z,{sx:{maxWidth:"15",marginTop:"20px",boxShadow:"none",position:"relative"},children:[(0,l.jsx)($.Z,{href:"".concat(e.link),target:"_blank",children:(0,l.jsx)(V.Z,{component:"img",height:"400",image:E})}),e.Images&&e.Images.length>1&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Y.Z,{onClick:N,style:{position:"absolute",top:"30%",right:"0%",zIndex:100,color:"#3D3D3D",cursor:"pointer"}}),(0,l.jsx)(K.Z,{style:{position:"absolute",top:"30%",right:"0%",color:"#B5B5B7"}}),(0,l.jsx)(J.Z,{onClick:O,style:{position:"absolute",top:"30%",left:"0%",zIndex:100,color:"#3D3D3D",cursor:"pointer"}}),(0,l.jsx)(K.Z,{style:{position:"absolute",top:"30%",left:"0%",color:"#B5B5B7"}})]}),(0,l.jsxs)(U.Z,{children:[(0,l.jsxs)("div",{style:{width:"100%",marginBottom:"3%",display:"inline-block"},children:[(0,l.jsx)(Q.Z,{id:"copyicon",onClick:B,sx:{":hover":{opacity:"50%"},cursor:"pointer",marginRight:"17px",opacity:"25%",width:"0.9em"}}),(0,l.jsx)(G.Z,{id:"editicon",onClick:R,sx:{":hover":{opacity:"50%"},cursor:"pointer",opacity:"25%",width:"0.9em"}}),(0,l.jsx)(H.Z,{id:"delicon",onClick:A,sx:{":hover":{opacity:"50%"},cursor:"pointer",marginLeft:"17px",opacity:"25%",width:"0.9em"}})]}),(0,l.jsx)(c.Z,{children:(0,l.jsx)("span",{style:{fontWeight:900,fontSize:"130%",marginBottom:"4%"},children:"".concat(e.brand)})}),(0,l.jsx)(c.Z,{sx:{fontWeight:900,marginBottom:"2%"},variant:"subtitle2",color:"text.secondary",children:"참고할 부분"}),(0,l.jsx)(c.Z,{sx:{marginBottom:"1%"},variant:"body2",color:"text.secondary",children:e.reason})]}),(0,l.jsxs)(en,{children:[(0,l.jsx)("div",{style:{width:"100%",display:"inline-block",marginBottom:"5px"},children:(0,l.jsxs)("div",{style:{width:"20%",marginBottom:"3%",verticalAlign:"center",display:"inline-block",float:"left"},children:[p?(0,l.jsx)(ee.Z,{onClick:F,sx:{cursor:"pointer",opacity:"80%",color:"#FF3040"}}):(0,l.jsx)(et.Z,{onClick:F,sx:{cursor:"pointer",opacity:"40%"}}),(0,l.jsx)("span",{style:{position:"relative",top:"-7px",marginLeft:"5px",color:"#A6A6A6"},children:m||0})]})}),e.hashtags.map((e,t)=>(0,l.jsxs)("div",{style:{margin:"2px"},children:[(0,l.jsx)("div",{className:"Tag".concat(e.PostHashtag.HashtagId%8," Tag"),style:{display:"inline-block",margin:"2px"},onClick:t=>{_(t,e.name)},children:(0,l.jsxs)("a",{href:"",children:["#",e.name]})})," ","\xa0"]},t)),(0,l.jsx)("div",{style:{width:"100%"},children:(0,l.jsxs)("span",{style:{float:"left",color:"#A6A6A6",fontSize:"80%",marginTop:"10px"},children:["작성자 : ",e.name]})})]})]})]})}var ei=a(4384);let eo=(0,O.ZP)(_.Z)(e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff",...t.typography.body2,padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary}});function er(e){let{setIsUserpage:t}=e,{postArray:a}=(0,k.v9)(e=>e.post);return(0,i.useEffect)(()=>{},[a]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(v.Z,{sx:{flexGrow:1},children:(0,l.jsx)(ei.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:a&&a.map((e,a)=>(0,l.jsx)(ei.ZP,{item:!0,xs:6,sm:4,md:3,lg:4,children:(0,l.jsx)(eo,{children:(0,l.jsxs)("li",{style:{maxWidth:"320px",display:"inline-block"},children:[(0,l.jsx)(es,{setIsUserpage:t,index:a,name:e.name,id:e.id,likers:e.Likers,category:e.category,brand:e.brand,Images:e.Images,link:e.link,season:e.season,hashtags:e.Hashtags,reason:e.reason})," "]})})},e.id))})})})}var ed=a(5283);let ec={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function ep(e){let{}=e,[t,a]=f("");(0,k.I0)(),(0,i.useRef)(null);let[n,s]=(0,i.useState)(!1),o=()=>{s(!1)};return(0,i.useEffect)(()=>{new Date().getDate()-31==0&&s(!0)},[]),(0,l.jsx)(l.Fragment,{children:n&&(0,l.jsx)(j.Z,{open:!0,onClose:o,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(v.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:ec,children:[(0,l.jsx)("h1",{children:" 3.31 업데이트 안내 \uD83D\uDC07"}),(0,l.jsx)("p",{style:{marginTop:"-20px",marginBottom:"20px",color:"#7F7F7F"},children:" *하루동안 떠요"}),(0,l.jsx)("h2",{style:{marginBottom:"10px"},children:" 기능 추가 목록 "}),(0,l.jsxs)("ol",{type:"1",children:[(0,l.jsx)("li",{style:{marginBottom:"10px"},children:" 이미지 복사 후 (클립보드 복사 or PrintScreen) "}),(0,l.jsx)("li",{style:{marginBottom:"10px"},children:" 바탕화면에서 Ctrl + v 누르면 자동으로 이미지 등록 "}),(0,l.jsx)("li",{style:{marginBottom:"10px"},children:" 업로드 화면에서도 마찬가지 "})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:o,children:"확인"})]})})})}function eu(e){let{}=e,{postArray:t}=(0,k.v9)(e=>e.post),{user:a}=(0,k.v9)(e=>e.user),[n,s]=(0,i.useState)(!1),o=(0,k.I0)(),r=(0,i.useCallback)(()=>{o({type:D.qN,data:null}),s(!1)},[]),d=(0,i.useCallback)(()=>{var e=[...t];e.sort(function(e,t){return t.Likers.length-e.Likers.length}),o({type:D.ce,data:e})},[t,a]),c=(0,i.useCallback)(()=>{var e=[...t];e.sort(function(e,t){return e.createdAt-t.createdAt}),o({type:D.ce,data:e})},[t,a]),p=(0,i.useCallback)(()=>{s(!0),o({type:D.qn})},[t,a]);return(0,i.useEffect)(()=>{console.log(t)},[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ed.Z,{spacing:2,direction:"row",children:(0,l.jsxs)(h.Z,{disabled:!0,style:{marginTop:"-20px",fontWeight:900},children:[a.data.name,"님의 페이지"]})}),(0,l.jsxs)(ed.Z,{spacing:2,direction:"row",children:[(0,l.jsx)(h.Z,{variant:"text",style:{fontWeight:900},onClick:r,children:" 작성한 게시물"}),(0,l.jsx)(h.Z,{variant:"text",style:{fontWeight:900},onClick:p,children:" 좋아요 누른 게시물"}),(0,l.jsx)(h.Z,{variant:"outlined",size:"small",style:{position:"absolute",right:"18%",fontWeight:900},onClick:c,children:" 최신 순"}),(0,l.jsx)(h.Z,{variant:"outlined",size:"small",style:{position:"absolute",right:"12%",fontWeight:900},onClick:d,children:" 좋아요 순 "})]})]})}var eh=!0;function ex(){let{user:e}=(0,k.v9)(e=>e.user),{loadPostLoading:t}=(0,k.v9)(e=>e.post),{onInfiniteScroll:a}=(0,k.v9)(e=>e.post),{hasMorePost:n}=(0,k.v9)(e=>e.post),{postArray:o}=(0,k.v9)(e=>e.post),r=(0,k.I0)(),[d,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{function e(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-350&&n&&!t&&a){let e=o[o.length-1].id;r({type:D.EG,data:e})}}return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[n,t,r,o,a]);let p=(0,i.useCallback)(()=>{r({type:D.kT}),r((0,D.HV)()),c(!1)},[r]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s(),{children:[(0,l.jsx)("title",{children:"Crump REF"}),(0,l.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,l.jsx)(ep,{}),(0,l.jsxs)("div",{style:{margin:"auto",width:"80%"},children:[(0,l.jsx)("a",{onClick:p,children:(0,l.jsx)("h1",{id:"title",style:{cursor:"pointer"},children:"CRUMP REFERENCE"})}),(0,l.jsx)("div",{style:{marginBottom:"40px"},children:(0,l.jsx)(N,{setIsUserpage:c})}),(0,l.jsx)("div",{style:{marginBottom:"10px"},children:d&&(0,l.jsx)(eu,{})}),!d&&(0,l.jsx)(ed.Z,{spacing:2,direction:"row",sx:{marginBottom:"42px",marginTop:"-20px"},children:(0,l.jsxs)(h.Z,{variant:"outlined",size:"small",style:{position:"absolute",left:"11%",fontWeight:900},onClick:D.HV,children:[" ","최신 순"]})}),(0,l.jsx)(er,{setIsUserpage:c}),t&&(0,l.jsx)("div",{id:"bottomloading",children:(0,l.jsx)("span",{style:{fontSize:"240%"},children:" 로딩중..."})})]})]})}}},function(e){e.O(0,[343,774,888,179],function(){return e(e.s=9536)}),_N_E=e.O()}]);