(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2411)}])},2411:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSP:function(){return eu},default:function(){return eh}});var l=t(5893),n=t(9008),s=t.n(n),i=t(7294),o=t(2293),r=t(155),d=t(3946),c=t(5861),p=t(5819),u=t(517),h=t(3321),x=t(6540),m=t(8201),g=t(7976);let f=e=>{let[a,t]=(0,i.useState)(e),l=(0,i.useCallback)(e=>{t(e.target.value)},[]);return[a,l,t]};var b=t(6154),j=t(1903),v=t(7469),y=t(7357),Z=t(9473),k=t(6572),C=t(3454);let w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function S(e){let{setIsModalOpen:a,isModalOpen:t,userId:n,setUserId:s,userName:o,setUserName:r}=e,d=(0,Z.I0)(),p="".concat(C.env.NEXT_PUBLIC_API,"/signups"),[u,x]=f(""),[m,g]=(0,i.useState)(!1),[S,I]=f(""),[E,P]=f(""),[W,_]=f(""),[z,N]=(0,i.useState)(!1);(0,i.useCallback)(e=>{_(e.target.value),N(e.target.value!==E)},[E,_]);let T=e=>{let a=!1;if(e){let t=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/.test(e);a=!!t}else a=!1;return a},A=()=>{a(!1)},F=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),E!==W?N(!0):T(u)?b.Z.post(p,{email:u,name:S,password:E},{headers:{"Content-Type":"application/json"}}).then(e=>{d((0,k.tP)()),s(e.data.userId),r(e.data.userName),A()}).catch(e=>{"already exist"==e.response.data.message?alert("이미 존재하는 이메일입니다."):alert("회원가입이 정상적으로 되지 않았습니다.")}):g(!0)},[p,d,s,r,u,E,W,S]);return(0,l.jsx)(v.Z,{open:!0,onClose:A,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(y.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:F,sx:w,children:[(0,l.jsx)(c.Z,{component:"h1",variant:"h5",sx:{textAlign:"center"},children:"회원가입"}),(0,l.jsx)(j.Z,{label:"이메일",name:"user-email",sx:{marginTop:3},fullWidth:!0,type:"email",value:u,required:!0,onChange:x}),m&&(0,l.jsx)("span",{style:{color:"red"},children:"Email 형식이 잘못되었습니다"}),(0,l.jsx)(j.Z,{label:"이름",name:"user-nick",sx:{marginTop:3},fullWidth:!0,value:S,required:!0,onChange:I}),(0,l.jsx)(j.Z,{label:"비밀번호",fullWidth:!0,name:"user-password",sx:{marginTop:3},type:"password",value:E,required:!0,onChange:P}),(0,l.jsx)(j.Z,{label:"비밀번호체크",fullWidth:!0,name:"user-password-check",sx:{marginTop:3},type:"password",value:W,required:!0,onChange:_}),z&&(0,l.jsx)("span",{style:{color:"red"},children:"비밀번호가 일치하지 않습니다"}),(0,l.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",children:"확인"})]})})}var I=t(4054),E=t(3841),P=t(315),W=t(8987),_=t(5675),z=t.n(_),N=t(491),T=t(3454);let A={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function R(e){let a=(0,Z.I0)(),[t,n]=(0,i.useState)(!0),{user:s}=(0,Z.v9)(e=>e.user),{postArray:o}=(0,Z.v9)(e=>e.post),[r,d]=(0,i.useState)({name:""});T.env.NEXT_PUBLIC_API;let[u,x]=(0,i.useState)(),[m,g]=(0,i.useState)(!1),[k,C]=(0,i.useState)(!1),[w,S,_]=f(""),[R,D,O]=f(""),[B,L,M]=f(""),[U,q]=i.useState(!1),H="".concat(T.env.NEXT_PUBLIC_API,"/getHash"),{addPostLoading:V}=(0,Z.v9)(e=>e.post),{addPostDone:X}=(0,Z.v9)(e=>e.post),[G,Y]=(0,i.useState)({title:"",desc:"",photos:[null]}),$=(0,i.useCallback)(()=>{e.setuploadModalOpen(!1)},[]),{title:J,desc:K,photos:Q}=G,ee=()=>{q(!1)};(0,i.useRef)(null);let[ea,et]=i.useState("상의"),[el,en]=i.useState("23SS"),[es,ei,eo]=f(""),er=e=>{et(e.target.value)},ed=e=>{en(e.target.value)},ec=e=>{ep(e.target.files)},ep=e=>{let a=[];if(void 0!=e){if(e.length>1)alert("이미지는 1개만 넣어주세요");else{g(!0);for(let t=0;t<e.length;t++){let l=e[t];x(e[t]);let n=new FileReader;n.readAsDataURL(l),n.addEventListener("load",()=>{let e={name:l.name,type:l.type,size:l.size,src:n.result};a.push(e),Y({...G,photos:[...Q,...a]})})}}}},eu=e=>{e.target.parentElement,Y({...G,photos:[...Q.slice(0,1),...Q.slice(2)]}),g(!1)},eh=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),C(!0)},[]),ex=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),C(!1)},[]),em=e=>{e.preventDefault(),e.stopPropagation();let a=e.dataTransfer,t=null==a?void 0:a.files;C(!1),ep(t)},[eg,ef]=i.useState({data:[{name:""}]}),eb=(0,i.useCallback)(()=>{b.Z.get(H).then(e=>{q(!0),ef(e)}).catch(e=>{alert("해시태그가 제대로 처리되지 않았습니다.")})},[H]),ej=(0,i.useCallback)(e=>{if(""==R)e.preventDefault(),e.stopPropagation(),alert("브랜드입력 필수");else if(void 0==u)e.preventDefault(),e.stopPropagation(),alert("이미지 필수");else{e.preventDefault(),e.stopPropagation();let t=new FormData;t.append("image",u),t.append("userId",s.id),t.append("userName",s.userName),t.append("brand",R),t.append("link",B),t.append("category",ea),t.append("season",el),t.append("hashtag",es),t.append("reason",w),a((0,N.q2)(t))}},[R,ea,el,es,w,B,s,a,u]);return(0,i.useEffect)(()=>{X&&!t&&$(),n(!1)},[X,a,$]),(0,i.useEffect)(()=>{if(e.edit){let a=o.find(a=>a.id===e.postId),t="";a.Hashtags&&a.Hashtags.map(e=>t=t.concat("#"+(null==e?void 0:e.name)));for(let e=0;e<a.Hashtags.length;e++)t.concat("#".concat(a.Hashtags[e].name," "));et(a.category),en(a.season),eo(t),O(a.brand),_(a.reason),M(a.link),console.log(a),g(!0),Y({...G,photos:Q.concat(a.Images[0])})}},[e.edit,o]),(0,l.jsxs)(l.Fragment,{children:[U&&(0,l.jsx)(v.Z,{open:!0,onClose:ee,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(y.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:A,children:[(0,l.jsx)("div",{className:"hashlistdiv",style:{height:"300px",overflow:"overlay"},children:eg.data.map((e,a)=>(0,l.jsxs)("li",{id:"hashlist",style:{listStyle:"none"},children:[" ","#",e.name]},a))}),(0,l.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:ee,children:"확인"})]})}),(0,l.jsx)(v.Z,{open:!0,onClose:$,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(y.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:ej,sx:F,children:[(0,l.jsx)(c.Z,{sx:{textAlign:"center"},component:"h1",variant:"h5",children:"업로드"}),(0,l.jsx)(j.Z,{required:!0,label:"브랜드",fullWidth:!0,sx:{marginTop:"5px"},name:"user-brand",type:"text",value:R,variant:"standard",onChange:D}),(0,l.jsx)(j.Z,{label:"Link",fullWidth:!0,sx:{marginTop:"5px"},name:"user-link",type:"text",value:B,required:!0,variant:"standard",onChange:L}),(0,l.jsx)(j.Z,{label:"선정이유",fullWidth:!0,sx:{marginTop:"5px"},name:"user-link",type:"text",value:w,required:!0,variant:"standard",onChange:S}),(0,l.jsxs)(I.Z,{sx:{width:"40%",marginRight:"10%",marginTop:"25px"},children:[(0,l.jsx)(E.Z,{id:"demo-simple-select-label",children:"상의"}),(0,l.jsxs)(P.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"상의",value:ea,label:"카테고리",required:!0,onChange:er,children:[(0,l.jsx)(p.Z,{value:"상의",children:"상의"}),(0,l.jsx)(p.Z,{value:"하의",children:"하의"}),(0,l.jsx)(p.Z,{value:"아우터",children:"아우터"}),(0,l.jsx)(p.Z,{value:"디테일",children:"디테일"}),(0,l.jsx)(p.Z,{value:"이미지",children:"이미지"}),(0,l.jsx)(p.Z,{value:"악세사리",children:"악세사리"})]})]}),(0,l.jsxs)(I.Z,{sx:{width:"40%",marginTop:"25px"},children:[(0,l.jsx)(E.Z,{id:"demo-simple-select-label",children:"23SS"}),(0,l.jsxs)(P.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"23SS",value:el,label:"시즌",required:!0,onChange:ed,children:[(0,l.jsx)(p.Z,{value:"23SS",children:"23SS"}),(0,l.jsx)(p.Z,{value:"23FW",children:"23FW"})]})]}),(0,l.jsx)(j.Z,{id:"standard-basic",sx:{marginTop:"30px"},value:es,onChange:ei,fullWidth:!0,label:"해시태그입력 #검정 #반팔 ",variant:"outlined"}),(0,l.jsx)(h.Z,{variant:"contained",sx:{whiteSpace:"nowrap",marginRight:"5px",marginTop:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:eb,children:"#목록"}),(0,l.jsx)("div",{className:"file-upload",style:{marginTop:"10px"},children:(0,l.jsxs)("div",{className:"custom-form-group",children:[!m&&(0,l.jsxs)("div",{className:k?"custom-file-drop-area highlight":"custom-file-drop-area",onDragEnter:eh,onDragOver:eh,onDragLeave:ex,onDrop:em,children:[(0,l.jsx)("input",{type:"file",name:"photos",placeholder:"Enter photos",multiple:!1,id:"filephotos",onChange:ec}),(0,l.jsx)("label",{htmlFor:"filephotos",children:"이미지를 드래그해서 넣어주세요"})]}),(0,l.jsx)("div",{className:"custom-file-preview",children:Q.length>0&&Q.map((e,a)=>0!=a?(0,l.jsxs)("div",{className:"prev-img",children:[(0,l.jsx)("span",{onClick:eu,children:"\xd7"}),e&&(0,l.jsx)(z(),{src:e.src,alt:e.name})]},a):(0,l.jsx)(l.Fragment,{}))})]})}),(0,l.jsx)("button",{id:"submit_bt",style:{display:"none"},type:"submit"}),(0,l.jsx)(W.Z,{type:"submit",loading:V,fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",children:"확인"})]})})]})}let D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function O(e){let{setloginModalOpen:a,loginModalOpen:t}=e,n=(0,Z.I0)(),[s,o]=(0,i.useState)(!0),{logInLoading:r}=(0,Z.v9)(e=>e.user),{logInError:d}=(0,Z.v9)(e=>e.user),[p,u]=f(""),[h,x]=f(""),m=()=>{a(!1)},g=(0,i.useCallback)(e=>{e.preventDefault(),""==p?alert("이메일을 입력해주세요"):""==h?alert("비밀번호를 입력해주세요"):n((0,k.tP)({email:p,password:h}))},[p,h,n]);return(0,i.useEffect)(()=>{r||s||(console.log("change"),a(!1)),o(!1)},[r]),(0,l.jsx)(v.Z,{open:!0,onClose:m,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(y.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:g,sx:D,children:[(0,l.jsx)(c.Z,{component:"h1",variant:"h5",children:"로그인"}),(0,l.jsx)(j.Z,{label:"이메일",name:"user-email",fullWidth:!0,type:"email",value:p,required:!0,variant:"standard",onChange:u}),(0,l.jsx)(j.Z,{label:"비밀번호",name:"user-nick",type:"password",fullWidth:!0,value:h,required:!0,variant:"standard",onChange:x}),d&&(0,l.jsx)("span",{style:{marginTop:"10px",color:"#F73334"},children:" 로그인 정보가 일치하지 않습니다."}),(0,l.jsx)(W.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",loading:r,children:"로그인"})]})})}var B=t(2761);function L(e){let{}=e,[a,t]=f(""),n=(0,Z.I0)(),s=(0,i.useRef)(null);(0,i.useEffect)(()=>{s.current&&s.current.focus()},[]);let o=i.useCallback(e=>{if(""==a)n((0,N.HV)());else if(a.split("#").length<2)alert("태그 앞에 #를 붙여주세요");else{let t=a.toUpperCase();e.preventDefault(),e.stopPropagation(),n({type:N.fS,data:{hashtags:"#"+t}})}},[n,a]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("form",{onSubmit:o,style:{width:"70%",flex:"auto",marginLeft:"15%"},children:[(0,l.jsx)(d.Z,{type:"submit","aria-label":"search",sx:{display:{xs:"none",md:"inline-block"}},children:(0,l.jsx)(B.Z,{style:{fill:"#9A9A9A"}})}),(0,l.jsx)(j.Z,{id:"search-bar",className:"text",sx:{display:"inline-block",width:"80%"},value:a,onChange:t,label:"#상의 #검정",variant:"outlined",placeholder:"Search...",size:"small",inputRef:s})]})})}var M=t(3454);let U={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function q(e){let{userId:a,setUserId:t,userName:n,setUserName:s}=e,{logInDone:f}=(0,Z.v9)(e=>e.user),{user:b}=(0,Z.v9)(e=>e.user),{logOutLoading:j}=(0,Z.v9)(e=>e.user),{hashtags:C}=(0,Z.v9)(e=>e.post),w=(0,Z.I0)();M.env.NEXT_PUBLIC_API;let[I,E]=i.useState(!1),[P,_]=i.useState(!1),[z,T]=i.useState(null),[A,F]=i.useState(null),[D,B]=i.useState(!1),[q,H]=i.useState(!1),V=()=>{H(!1)},X=()=>{B(!0)},G=()=>{_(!0)},Y=Boolean(z),$=Boolean(A),J=()=>{F(null)},K=()=>{T(null),J()},Q=(0,i.useCallback)(()=>{w((0,k.vR)()),_(!1)},[w]),ee=(0,i.useCallback)(()=>{b?E(!0):_(!0)},[b]),ea=e=>{F(e.currentTarget)},et=(0,i.useCallback)(()=>{alert("준비중입니다.")},[]),el=(0,i.useCallback)(()=>{w({type:N.tG}),H(!0)},[w]),en="primary-search-account-menu",es=(0,l.jsxs)(u.Z,{anchorEl:z,anchorOrigin:{vertical:"top",horizontal:"right"},id:en,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Y,onClose:K,children:[(0,l.jsx)(p.Z,{onClick:K,children:"Profile"}),(0,l.jsx)(p.Z,{onClick:K,children:"My account"})]}),ei="primary-search-account-menu-mobile",eo=(0,l.jsx)(u.Z,{anchorEl:A,anchorOrigin:{vertical:"top",horizontal:"right"},id:ei,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:$,onClose:J,children:(0,l.jsx)(p.Z,{children:(0,l.jsx)("p",{children:"만드는 중입니다"})})});return(0,l.jsxs)(y.Z,{sx:{flexGrow:1},children:[!b&&D&&(0,l.jsx)(S,{isModalOpen:D,setIsModalOpen:B,userId:a,setUserId:t,userName:n,setUserName:s}),b&&I&&(0,l.jsx)(R,{uploadModalOpen:I,setuploadModalOpen:E,edit:!1,postId:null}),!b&&P&&(0,l.jsx)(O,{loginModalOpen:P,setloginModalOpen:_}),q&&(0,l.jsx)(v.Z,{open:!0,onClose:V,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(y.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:U,children:[(0,l.jsx)("div",{className:"hashlistdiv",style:{height:"300px",overflow:"overlay"},children:C&&C.map((e,a)=>(0,l.jsxs)("li",{id:"hashlist",style:{listStyle:"none",marginBottom:"5px"},children:[" #",e.name]},e.id))}),(0,l.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:V,children:"확인"})]})}),(0,l.jsx)(o.Z,{position:"static",style:{backgroundColor:"#FFF",color:"#000"},children:(0,l.jsxs)(r.Z,{children:[(0,l.jsx)(h.Z,{variant:"contained",sx:{whiteSpace:"nowrap",marginRight:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:el,children:"#목록"}),(0,l.jsx)(c.Z,{noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}}}),(0,l.jsx)(y.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,l.jsx)(L,{}),(0,l.jsx)(y.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,l.jsxs)(y.Z,{sx:{display:{xs:"none",md:"flex"}},children:[(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(d.Z,{size:"large",edge:"end",sx:{marginRight:"10px"},"aria-label":"account of current user","aria-haspopup":"false",color:"primary",onClick:ee,children:(0,l.jsx)(x.Z,{})})}),b?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(W.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"100%",marginRight:"5px",fontWeight:"bold",display:"inline-block",whiteSpace:"nowrap"},size:"small",onClick:Q,loading:j,children:"로그아웃"}),(0,l.jsx)(d.Z,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":en,"aria-haspopup":"true",color:"primary",onClick:et,children:(0,l.jsx)(m.Z,{})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"40%",marginRight:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:G,children:"로그인"}),(0,l.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"40%",fontWeight:"bold",display:"inline-block"},onClick:X,size:"small",children:"가입"})]})]}),(0,l.jsx)(y.Z,{sx:{display:{xs:"flex",md:"none"},float:"right"},children:(0,l.jsx)(d.Z,{size:"large","aria-label":"show more","aria-controls":ei,"aria-haspopup":"true",onClick:ea,color:"primary",children:(0,l.jsx)(g.Z,{})})})]})}),eo,es]})}var H=t(1496),V=t(629),X=t(7297),G=t(6242),Y=t(4267),$=t(3965),J=t(1733),K=t(7957),Q=t(2023),ee=t(9974),ea=t(6868),et=t(6111),el=t(1405),en=t(3454);function es(){let e=(0,X.Z)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 8px;\n  flex-direction: row;\n  flex-wrap: wrap;\n"]);return es=function(){return e},e}let ei={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},eo=(0,H.ZP)(Q.Z)(es());function er(e){var a;let[t,n]=(0,i.useState)(!1),[s,o]=(0,i.useState)((null===(a=e.likers)||void 0===a?void 0:a.length)||0),{user:r}=(0,Z.v9)(e=>e.user),{logInDone:d}=(0,Z.v9)(e=>e.user),[p,u]=(0,i.useState)(!1),[x,m]=(0,i.useState)(!1),g=(0,Z.I0)();en.env.NEXT_PUBLIC_API,"".concat(en.env.NEXT_PUBLIC_API,"/deletpost/").concat(e.id);let[f,b]=i.useState(!1),[j,k]=i.useState(""),C=()=>{b(!1)},w=(0,i.useCallback)(()=>{r?(n(e=>!e),t?(g({type:N.VT,data:e.id}),o(e=>e-1)):(g({type:N.xD,data:e.id}),o(e=>e+1))):(alert("로그인 해주세요"),u(!0))},[r,t,e.id]),S=(0,i.useCallback)(()=>{r?b(!0):(alert("로그인 해주세요"),u(!0))},[r]),I=(0,i.useCallback)(()=>r?g({type:N.RR,data:e.id}):alert("로그인이 필요합니다."),[g,e.id,r]),E=(0,i.useCallback)(a=>(a.preventDefault(),a.stopPropagation(),r)?g({type:N.sV,data:e.id}):alert("로그인이 필요합니다."),[g,e.id,r]),P=(0,i.useCallback)(()=>{alert("준비중입니다.")},[e.id,r,m]);(0,i.useEffect)(()=>{void 0==e.Images[0]||k("../".concat(e.Images[0].src))},[e.Images]);let W=i.useCallback((e,a)=>{e.preventDefault(),e.stopPropagation(),g({type:N.fS,data:{hashtags:"#"+a}})},[g,e]);return(0,i.useEffect)(()=>{if((null==r?void 0:r.data)&&e.likers){let a=e.likers.find(e=>e.id===(null==r?void 0:r.data.id));a?n(!0):n(!1)}},[e.likers,r,e.id,d]),(0,l.jsxs)(l.Fragment,{children:[x&&(0,l.jsx)(R,{setuploadModalOpen:m,uploadModalOpen:x,edit:!0,postId:e.id}),p&&(0,l.jsx)(O,{loginModalOpen:p,setloginModalOpen:u}),f&&(0,l.jsx)(v.Z,{open:!0,onClose:C,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(y.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:E,sx:ei,children:[(0,l.jsx)(c.Z,{component:"h2",variant:"h5",sx:{textAlign:"center",marginBottom:"15px"},children:"정말 삭제하시겠습니까?"}),(0,l.jsx)(h.Z,{type:"submit",variant:"contained",sx:{mt:3,mb:2,width:"40%",marginLeft:"5%",marginRight:"10%"},size:"large",children:"삭제"}),(0,l.jsx)(h.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,width:"40%"},size:"large",onClick:C,children:"취소"})]})}),(0,l.jsxs)(G.Z,{sx:{maxWidth:"15",marginTop:"20px",boxShadow:"none"},children:[(0,l.jsx)(ee.Z,{href:"".concat(e.link),target:"_blank",children:(0,l.jsx)($.Z,{component:"img",height:"400",image:j})}),(0,l.jsxs)(Y.Z,{children:[(0,l.jsxs)("div",{style:{width:"100%",marginBottom:"3%",display:"inline-block"},children:[(0,l.jsx)(ea.Z,{id:"copyicon",onClick:I,sx:{":hover":{opacity:"50%"},cursor:"pointer",marginRight:"17px",opacity:"25%",width:"0.9em"}}),(0,l.jsx)(K.Z,{id:"editicon",onClick:P,sx:{":hover":{opacity:"50%"},cursor:"pointer",opacity:"25%",width:"0.9em"}}),(0,l.jsx)(J.Z,{id:"delicon",onClick:S,sx:{":hover":{opacity:"50%"},cursor:"pointer",marginLeft:"17px",opacity:"25%",width:"0.9em"}})]}),(0,l.jsx)(c.Z,{children:(0,l.jsx)("span",{style:{fontWeight:900,fontSize:"130%",marginBottom:"4%"},children:"".concat(e.brand)})}),(0,l.jsx)(c.Z,{sx:{fontWeight:900,marginBottom:"2%"},variant:"subtitle2",color:"text.secondary",children:"참고할 부분"}),(0,l.jsx)(c.Z,{sx:{marginBottom:"1%"},variant:"body2",color:"text.secondary",children:e.reason})]}),(0,l.jsxs)(eo,{children:[(0,l.jsx)("div",{style:{width:"100%",display:"inline-block",marginBottom:"5px"},children:(0,l.jsxs)("div",{style:{width:"20%",marginBottom:"3%",verticalAlign:"center",display:"inline-block",float:"left"},children:[t?(0,l.jsx)(et.Z,{onClick:w,sx:{cursor:"pointer",opacity:"80%",color:"#FF3040"}}):(0,l.jsx)(el.Z,{onClick:w,sx:{cursor:"pointer",opacity:"40%"}}),(0,l.jsx)("span",{style:{position:"relative",top:"-7px",marginLeft:"5px",color:"#A6A6A6"},children:s||0})]})}),e.hashtags.map((e,a)=>(0,l.jsxs)("div",{style:{margin:"2px"},children:[(0,l.jsx)("div",{className:"Tag".concat(e.PostHashtag.HashtagId%8," Tag"),style:{display:"inline-block",margin:"2px"},onClick:a=>{W(a,e.name)},children:(0,l.jsxs)("a",{href:"",children:["#",e.name]})})," ","\xa0"]},a)),(0,l.jsx)("div",{style:{width:"100%"},children:(0,l.jsxs)("span",{style:{float:"left",color:"#A6A6A6",fontSize:"80%",marginTop:"10px"},children:["작성자 : ",e.name]})})]})]})]})}var ed=t(6886);let ec=(0,H.ZP)(V.Z)(e=>{let{theme:a}=e;return{backgroundColor:"dark"===a.palette.mode?"#1A2027":"#fff",...a.typography.body2,padding:a.spacing(2),textAlign:"center",color:a.palette.text.secondary}});function ep(e){let{}=e,{postArray:a}=(0,Z.v9)(e=>e.post),[t,n]=(0,i.useState)("");return(0,i.useEffect)(()=>{console.log(a)},[a]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(y.Z,{sx:{flexGrow:1},children:(0,l.jsx)(ed.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:a&&a.map((e,t)=>(0,l.jsx)(ed.ZP,{item:!0,xs:6,sm:4,md:3,lg:4,children:(0,l.jsx)(ec,{children:(0,l.jsxs)("li",{style:{maxWidth:"320px",display:"inline-block"},children:[(0,l.jsx)(er,{index:t,name:e.name,posts:a,id:e.id,likers:e.Likers,category:e.category,brand:e.brand,Images:e.Images,link:e.link,season:e.season,hashtags:e.Hashtags,reason:e.reason})," "]})})},e.id))})})})}var eu=!0;function eh(){let{user:e}=(0,Z.v9)(e=>e.user),{loadPostLoading:a}=(0,Z.v9)(e=>e.post),{hasMorePost:t}=(0,Z.v9)(e=>e.post),{postArray:n}=(0,Z.v9)(e=>e.post),o=(0,Z.I0)(),[r,d]=(0,i.useState)(""),[c,p]=(0,i.useState)(""),[u,h]=(0,i.useState)([]);(0,i.useEffect)(()=>{function e(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-350&&t&&!a){let e=n[n.length-1].id;o({type:N.EG,data:e})}}return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[t,a,o,n]);let x=(0,i.useCallback)(()=>{o((0,N.HV)())},[o]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s(),{children:[(0,l.jsx)("title",{children:"Crump REF"}),(0,l.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,l.jsxs)("div",{style:{margin:"auto",width:"80%"},children:[(0,l.jsx)("a",{onClick:x,children:(0,l.jsx)("h1",{id:"title",style:{cursor:"pointer"},children:"CRUMP REFERENCE"})}),(0,l.jsx)("div",{style:{marginBottom:"40px"},children:(0,l.jsx)(q,{userId:r,setUserId:d,userName:c,setUserName:p})}),(0,l.jsx)(ep,{}),a&&(0,l.jsx)("div",{style:{width:"100%"},children:(0,l.jsx)("span",{style:{fontSize:"240%"},children:" 로딩중"})})]})]})}}},function(e){e.O(0,[303,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);