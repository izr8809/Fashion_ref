(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{827:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return ey},default:function(){return eZ}});var a,r=n(7812),o=n(9008),i=n.n(o),l=n(6835),s=n(7294),c=n(2293),d=n(155),u=n(3946),p=n(5861),h=n(5819),f=n(517),x=n(3321),m=n(6540),g=n(8201),b=n(7976),v=function(e){var t=(0,s.useState)(e),n=t[0],a=t[1];return[n,(0,s.useCallback)(function(e){a(e.target.value)},[]),a]},j=n(1903),y=n(7469),Z=n(7357),k=n(8987),C=n(9473),w=n(5997),S=n(5893),I={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function O(e){var t=e.setIsModalOpen,n=(0,C.I0)(),a=(0,s.useState)(!0),r=a[0],o=a[1],i=v(""),c=(0,l.Z)(i,2),d=c[0],u=c[1],h=(0,C.v9)(function(e){return e.user}).signUpLoading,f=(0,C.v9)(function(e){return e.user}).signUpDone,x=(0,C.v9)(function(e){return e.user}).signUpError,m=(0,s.useState)(!1),g=m[0],b=m[1],O=v(""),D=(0,l.Z)(O,2),E=D[0],P=D[1],W=v(""),z=(0,l.Z)(W,2),F=z[0],A=z[1],M=v(""),T=(0,l.Z)(M,2),B=T[0],L=T[1],R=(0,s.useState)(!1),N=R[0],U=R[1],_=(0,s.useState)(!1),q=_[0],V=_[1];(0,s.useCallback)(function(e){L(e.target.value),U(e.target.value!==F)},[F,L]);var H=(0,s.useCallback)(function(e){var t;e.preventDefault(),F!==B?U(!0):(t=d)&&/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/.test(t)&&""!=d.replace(" ","")?""==E.replace(" ","")?V(!0):n((0,w.y1)({email:d,name:E,password:F})):b(!0)},[d,F,B,E]);return(0,s.useEffect)(function(){console.log("signupDone",f),f&&!r&&(console.log("modal"),t(!1),n({type:w.$Q})),o(!1)},[f]),(0,S.jsx)(y.Z,{open:!0,onClose:function(){t(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,S.jsxs)(Z.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:H,sx:I,children:[(0,S.jsx)(p.Z,{component:"h1",variant:"h5",sx:{textAlign:"center"},children:"회원가입"}),(0,S.jsx)(j.Z,{label:"이메일",name:"user-email",sx:{marginTop:3},fullWidth:!0,type:"email",value:d,required:!0,onChange:u}),g&&(0,S.jsx)("span",{style:{color:"red"},children:"Email 형식이 잘못되었습니다"}),(0,S.jsx)(j.Z,{label:"이름",name:"user-nick",sx:{marginTop:3},fullWidth:!0,value:E,required:!0,onChange:P}),q&&(0,S.jsx)("span",{style:{color:"red"},children:"이름을 입력해주세요"}),(0,S.jsx)(j.Z,{label:"비밀번호",fullWidth:!0,name:"user-password",sx:{marginTop:3},type:"password",value:F,required:!0,onChange:A}),(0,S.jsx)(j.Z,{label:"비밀번호체크",fullWidth:!0,name:"user-password-check",sx:{marginTop:3},type:"password",value:B,required:!0,onChange:L}),N&&(0,S.jsx)("span",{style:{color:"red"},children:"비밀번호가 일치하지 않습니다"}),x&&(0,S.jsx)("span",{style:{color:"red"},children:"회원가입 실패했습니다"}),(0,S.jsx)(k.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",loading:h,children:"확인"})]})})}var D=n(9499),E=n(4054),P=n(3841),W=n(594),z=n(315),F=n(2167);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){(0,D.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function L(e){var t=(0,C.I0)(),n=(0,C.v9)(function(e){return e.user}).user,a=(0,C.v9)(function(e){return e.post}).postArray,o=(0,C.v9)(function(e){return e.post}).hashtags,i=(0,C.v9)(function(e){return e.post}).isEdit,c=(0,C.v9)(function(e){return e.post}).editPostWithImagesDone,d=(0,C.v9)(function(e){return e.post}).addPostError;(0,C.v9)(function(e){return e.post}).editPostError;var u=(0,s.useRef)(null),f=(0,s.useState)({name:""});f[0],f[1];var g=(0,s.useState)(!1),b=g[0],w=g[1],I=(0,s.useState)(!1),O=I[0],D=I[1],A=(0,s.useState)(""),L=A[0],R=A[1],N=v(""),U=(0,l.Z)(N,3),_=U[0],q=U[1],V=U[2],H=v(""),G=(0,l.Z)(H,3),X=G[0],$=G[1],Q=G[2],Y=v(""),J=(0,l.Z)(Y,3),K=J[0],ee=J[1],et=J[2],en=s.useState(!1),ea=(0,l.Z)(en,2),er=ea[0],eo=ea[1],ei=(0,C.v9)(function(e){return e.post}).addPostLoading,el=(0,C.v9)(function(e){return e.post}).addPostDone,es=(0,C.v9)(function(e){return e.post}).editPostDone,ec=(0,s.useState)({title:"",desc:"",photos:[null]}),ed=ec[0],eu=ec[1],ep=(0,s.useState)(ed.photos||[]),eh=ep[0],ef=ep[1],ex=(0,s.useCallback)(function(){e.setuploadModalOpen(!1),e.setUploadModalClicked(!1),eu({title:"",desc:"",photos:[null]}),t({type:F.xM,data:!1})},[e]);ed.title,ed.desc;var em=ed.photos,eg=function(){eo(!1)};(0,s.useRef)(null);var eb=s.useState("상의"),ev=(0,l.Z)(eb,2),ej=ev[0],ey=ev[1],eZ=s.useState("23SS"),ek=(0,l.Z)(eZ,2),eC=ek[0],ew=ek[1],eS=v(""),eI=(0,l.Z)(eS,3),eO=eI[0],eD=eI[1],eE=eI[2],eP=(0,s.useState)([]),eW=(eP[0],eP[1]),ez=(0,s.useState)(""),eF=(ez[0],ez[1]),eA=function(e){eM(e.target.files)},eM=(0,s.useCallback)(function(e){var t=[],n=[];if(void 0!=e){w(!0);for(var a=0;a<e.length;a++)!function(a){var r=e[a];n.push(r);var o=new FileReader;o.readAsDataURL(r),o.addEventListener("load",function(){var e={name:r.name,type:r.type,size:r.size,src:o.result};t.push(e),eu(M(M({},ed),{},{photos:em.concat(t)}))})}(a);ef(eh.concat(n))}},[ed,em,eh]),eT=(0,s.useCallback)(function(){u.current&&u.current.click()},[u]),eB=(0,s.useCallback)(function(e){var t=e.target.parentElement,n=Array.from(t.parentElement.children).indexOf(t);eu(M(M({},ed),{},{photos:[].concat((0,r.Z)(em.slice(0,n+1)),(0,r.Z)(em.slice(n+2)))})),ef([].concat((0,r.Z)(em.slice(0,n+1)),(0,r.Z)(em.slice(n+2)))),2==ed.photos.length&&w(!1)},[ed,em]);(0,s.useEffect)(function(){!e.uploadModalClicked&&e.clipboardFile&&eM(e.clipboardFile)},[e.clipboardFile,e.uploadModalClicked,e.uploadModalOpen]),(0,s.useEffect)(function(){var e=function(e){e.clipboardData.files.length>0&&eM(e.clipboardData.files)};return window.addEventListener("paste",e),function(){window.removeEventListener("paste",e)}},[ed]);var eL=(0,s.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),D(!0)},[]),eR=(0,s.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),D(!1)},[]),eN=(0,s.useCallback)(function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer,n=null==t?void 0:t.files;D(!1),eM(n)},[ed]),eU=s.useState({data:[{name:""}]}),e_=(0,l.Z)(eU,2);e_[0],e_[1];var eq=(0,s.useCallback)(function(){t({type:F.tG}),eo(!0)},[t]),eV=(0,s.useCallback)(function(a){if(""==X)a.preventDefault(),a.stopPropagation(),alert("브랜드입력 필수");else if(a.preventDefault(),a.stopPropagation(),i){if(1==ed.photos.length){alert("이미지 필수");return}var r,o=new FormData;eh[0]||eh.shift(),[].forEach.call(eh,function(e){e.name?o.append("image",e):o.append("imagePath",e.src)}),o.append("postId",null===(r=e.postId)||void 0===r?void 0:r.toString()),o.append("brand",X.replaceAll(" ","")),o.append("link",K),o.append("category",ej),o.append("season",eC),o.append("hashtag",eO),o.append("reason",_),o.append("name",L),t({type:F.s4,data:o})}else{if(!eh){alert("이미지 필수");return}var l=new FormData;[].forEach.call(eh,function(e){l.append("image",e)}),l.append("userId",n.id),l.append("userName",n.userName),l.append("brand",X.replaceAll(" ","")),l.append("link",K),l.append("category",ej),l.append("season",eC),l.append("hashtag",eO),l.append("reason",_),t((0,F.q2)(l))}},[X,ej,eC,eO,_,K,n,t,eh,ed.photos,i,e.postId]);(0,s.useEffect)(function(){el&&(t({type:F.mN}),ex()),es&&(t({type:F.qb}),ex(),t({type:F.xM,data:!1}),e.setImageIndex&&e.setImageIndex(0)),c&&i&&(t({type:F.qb}),t({type:F.xM,data:!1}),e.setImageIndex&&e.setImageIndex(0))},[el,t,ex,es,i,e,c]),(0,s.useEffect)(function(){if(i){var t=a.find(function(t){return t.id===e.postId}),n="";if(t.Hashtags.length>4)for(var r=0;r<t.Hashtags.length;r++){var o,l=null===(o=t.Hashtags[r])||void 0===o?void 0:o.name;l!=t.category.toUpperCase()&&l!=t.season.toUpperCase()&&l!=t.brand.toUpperCase()&&l!=t.name.toUpperCase()&&(n=n.concat("#".concat(l," ")))}eW(t.Images),ef(t.Images),R(t.name),ey(t.category),ew(t.season),eE(n),Q(t.brand),eF(t.brand),V(t.reason),et(t.link),w(!0),eu(M(M({},ed),{},{photos:em.concat(t.Images)}))}},[i,a]);var eH=(0,s.useCallback)(function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer;eM(null==t?void 0:t.files)},[ed]);return(0,S.jsxs)(S.Fragment,{children:[er&&(0,S.jsx)(y.Z,{open:!0,onClose:eg,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,S.jsxs)(Z.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:T,children:[(0,S.jsx)("div",{className:"hashlistdiv",style:{height:"300px",overflow:"overlay"},children:o&&o.map(function(e,t){return(0,S.jsxs)("li",{id:"hashlist",style:{listStyle:"none"},children:[" ","#",e.name]},t)})}),(0,S.jsx)(x.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:eg,children:"확인"})]})}),(0,S.jsx)(y.Z,{open:!0,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,S.jsxs)(Z.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:eV,sx:B,children:[(0,S.jsx)(W.Z,{style:{position:"absolute",cursor:"pointer",top:"15px",right:"15px"},onClick:ex}),(0,S.jsx)(p.Z,{sx:{textAlign:"center"},component:"h1",variant:"h5",children:"업로드"}),(0,S.jsx)(j.Z,{required:!0,label:"브랜드",fullWidth:!0,sx:{marginTop:"5px"},name:"user-brand",type:"text",value:X,variant:"standard",onChange:$}),(0,S.jsx)(j.Z,{label:"Link",fullWidth:!0,sx:{marginTop:"5px"},name:"user-link",type:"text",value:K,required:!0,variant:"standard",onChange:ee}),(0,S.jsx)(j.Z,{label:"선정이유",fullWidth:!0,sx:{marginTop:"5px"},name:"user-link",type:"text",value:_,required:!0,variant:"standard",onChange:q}),(0,S.jsxs)(E.Z,{sx:{width:"40%",marginRight:"10%",marginTop:"25px"},children:[(0,S.jsx)(P.Z,{id:"demo-simple-select-label",children:"상의"}),(0,S.jsxs)(z.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"상의",value:ej,label:"카테고리",required:!0,onChange:function(e){ey(e.target.value)},children:[(0,S.jsx)(h.Z,{value:"상의",children:"상의"}),(0,S.jsx)(h.Z,{value:"하의",children:"하의"}),(0,S.jsx)(h.Z,{value:"아우터",children:"아우터"}),(0,S.jsx)(h.Z,{value:"디테일",children:"디테일"}),(0,S.jsx)(h.Z,{value:"이미지",children:"이미지"}),(0,S.jsx)(h.Z,{value:"악세사리",children:"악세사리"})]})]}),(0,S.jsxs)(E.Z,{sx:{width:"40%",marginTop:"25px"},children:[(0,S.jsx)(P.Z,{id:"demo-simple-select-label",children:"23SS"}),(0,S.jsxs)(z.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"23SS",value:eC,label:"시즌",required:!0,onChange:function(e){ew(e.target.value)},children:[(0,S.jsx)(h.Z,{value:"23SS",children:"23SS"}),(0,S.jsx)(h.Z,{value:"23FW",children:"23FW"})]})]}),(0,S.jsx)(j.Z,{id:"standard-basic",sx:{marginTop:"30px"},value:eO,onChange:eD,fullWidth:!0,label:"해시태그입력 #검정 #반팔 ",variant:"outlined"}),(0,S.jsx)(x.Z,{variant:"contained",sx:{whiteSpace:"nowrap",marginRight:"5px",marginTop:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:eq,children:"#목록"}),(0,S.jsx)("div",{className:"file-upload",style:{marginTop:"10px"},children:(0,S.jsxs)("div",{className:"custom-form-group",children:[!b&&(0,S.jsxs)("div",{className:O?"custom-file-drop-area highlight":"custom-file-drop-area",onDragEnter:eL,onDragOver:eL,onDragLeave:eR,onDrop:eN,children:[(0,S.jsx)("input",{type:"file",name:"photos",placeholder:"Enter photos",multiple:!1,id:"filephotos",onChange:eA}),(0,S.jsx)("label",{htmlFor:"filephotos",children:"이미지를 드래그해서 넣어주세요"})]}),(0,S.jsxs)("div",{className:"custom-file-preview",onDragEnter:eL,onDragOver:eL,onDragLeave:eR,onDrop:eH,children:[em.length>0&&em.map(function(e,t){return 0!=t?(0,S.jsxs)("div",{className:"prev-img",children:[(0,S.jsx)("span",{onClick:eB,children:"\xd7"}),e&&(0,S.jsx)("img",{src:e.src,alt:e.name})]},t):(0,S.jsx)(S.Fragment,{})}),b?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(m.Z,{onClick:eT,sx:{marginLeft:"54px",marginTop:"39px"}}),(0,S.jsx)("input",{type:"file",style:{visibility:"hidden"},name:"photos",placeholder:"Enter photos",multiple:!1,id:"filephotos",onChange:eA,ref:u})]}):(0,S.jsx)(S.Fragment,{})]})]})}),d&&(0,S.jsx)("span",{style:{color:"red"},children:"업로드 실패했습니다"}),es&&(0,S.jsx)("span",{style:{color:"red"},children:"업로드 실패했습니다"}),(0,S.jsx)("button",{id:"submit_bt",style:{display:"none"},type:"submit"}),(0,S.jsx)(k.Z,{type:"submit",loading:ei,fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",children:"확인"})]})})]})}var R={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function N(e){var t=e.setloginModalOpen;e.loginModalOpen;var n=(0,C.I0)(),a=(0,s.useState)(!0),r=a[0],o=a[1],i=(0,C.v9)(function(e){return e.user}).logInDone,c=(0,C.v9)(function(e){return e.user}).logInLoading,d=(0,C.v9)(function(e){return e.user}).logInError,u=v(""),h=(0,l.Z)(u,2),f=h[0],x=h[1],m=v(""),g=(0,l.Z)(m,2),b=g[0],I=g[1],O=(0,s.useCallback)(function(e){e.preventDefault(),""==f?alert("이메일을 입력해주세요"):""==b?alert("비밀번호를 입력해주세요"):n((0,w.tP)({email:f,password:b}))},[f,b,n]);return(0,s.useEffect)(function(){i&&!r&&(t(!1),n({type:w.dy})),o(!1)},[i]),(0,S.jsx)(y.Z,{open:!0,onClose:function(){t(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,S.jsxs)(Z.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:O,sx:R,children:[(0,S.jsx)(p.Z,{component:"h1",variant:"h5",children:"로그인"}),(0,S.jsx)(j.Z,{label:"이메일",name:"user-email",fullWidth:!0,type:"email",value:f,required:!0,variant:"standard",onChange:x}),(0,S.jsx)(j.Z,{label:"비밀번호",name:"user-nick",type:"password",fullWidth:!0,value:b,required:!0,variant:"standard",onChange:I}),d&&(0,S.jsx)("span",{style:{marginTop:"10px",color:"#F73334"},children:" 로그인 정보가 일치하지 않습니다."}),(0,S.jsx)(k.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",loading:c,children:"로그인"})]})})}var U=n(2761);function _(e){var t=e.setIsUserpage,n=v(""),a=(0,l.Z)(n,3),r=a[0],o=a[1],i=a[2],c=(0,C.I0)(),d=(0,s.useRef)(null);(0,s.useEffect)(function(){d.current&&d.current.focus()},[]);var p=s.useCallback(function(e){if(""==r)c((0,F.HV)());else if(r.split("#").length<2)alert("태그 앞에 #를 붙여주세요");else{var n=r.toUpperCase();e.preventDefault(),e.stopPropagation(),c({type:F.fS,data:{hashtags:"#"+n}}),i(""),t(!1)}},[c,r]);return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("form",{onSubmit:p,style:{width:"70%",flex:"auto",marginLeft:"15%"},children:[(0,S.jsx)(u.Z,{type:"submit","aria-label":"search",sx:{display:{xs:"none",md:"inline-block"}},children:(0,S.jsx)(U.Z,{style:{fill:"#9A9A9A"}})}),(0,S.jsx)(j.Z,{id:"search-bar",className:"text",sx:{display:"inline-block",width:"80%","> div":{width:"100%"}},value:r,onChange:o,label:"#상의 #검정",variant:"outlined",placeholder:"Search...",size:"small",inputRef:d})]})})}var q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function V(e){var t=e.setIsUserpage,n=(0,C.v9)(function(e){return e.user}).user,a=(0,C.v9)(function(e){return e.user}).logOutLoading,r=(0,C.v9)(function(e){return e.post}).hashtags,o=(0,C.v9)(function(e){return e.post}).isEdit,i=(0,s.useState)(null),v=i[0];i[1];var j=(0,s.useState)(!1),I=j[0],D=j[1],E=(0,C.I0)(),P=s.useState(!1),W=(0,l.Z)(P,2),z=W[0],A=W[1],M=s.useState(!1),T=(0,l.Z)(M,2),B=T[0],R=T[1],U=s.useState(null),V=(0,l.Z)(U,2),H=V[0],G=V[1],X=s.useState(null),$=(0,l.Z)(X,2),Q=$[0],Y=$[1],J=s.useState(!1),K=(0,l.Z)(J,2),ee=K[0],et=K[1],en=s.useState(!1),ea=(0,l.Z)(en,2),er=ea[0],eo=ea[1],ei=function(){eo(!1)},el=Boolean(H),es=Boolean(Q),ec=function(){Y(null)},ed=function(){G(null),ec()},eu=(0,s.useCallback)(function(){E((0,w.vR)()),R(!1)},[]),ep=(0,s.useCallback)(function(){n?(A(!0),D(!0)):R(!0)},[n]);(0,s.useCallback)(function(){alert("준비중입니다.")},[]);var eh=(0,s.useCallback)(function(){E({type:F.tG}),eo(!0)},[E]),ef=(0,s.useCallback)(function(){n?(t(!0),E({type:F.qN,data:null}),E({type:F.PS})):alert("준비중입니다.")},[n]),ex="primary-search-account-menu",em=(0,S.jsxs)(f.Z,{anchorEl:H,anchorOrigin:{vertical:"top",horizontal:"right"},id:ex,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:el,onClose:ed,children:[(0,S.jsx)(h.Z,{onClick:ed,children:"Profile"}),(0,S.jsx)(h.Z,{onClick:ed,children:"My account"})]}),eg="primary-search-account-menu-mobile",eb=(0,S.jsx)(f.Z,{anchorEl:Q,anchorOrigin:{vertical:"top",horizontal:"right"},id:eg,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:es,onClose:ec,children:(0,S.jsx)(h.Z,{children:(0,S.jsx)("p",{children:"만드는 중입니다"})})});return(0,S.jsxs)(Z.Z,{sx:{flexGrow:1},children:[ee&&(0,S.jsx)(O,{setIsModalOpen:et}),n&&z&&!o&&(0,S.jsx)(L,{uploadModalClicked:I,setUploadModalClicked:D,setImageIndex:null,uploadModalOpen:z,setuploadModalOpen:A,postId:null,clipboardFile:v}),!n&&B&&(0,S.jsx)(N,{loginModalOpen:B,setloginModalOpen:R}),er&&(0,S.jsx)(y.Z,{open:!0,onClose:ei,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,S.jsxs)(Z.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:q,children:[(0,S.jsx)("div",{className:"hashlistdiv",style:{height:"300px",overflow:"overlay"},children:r&&r.map(function(e,t){return(0,S.jsxs)("li",{id:"hashlist",style:{listStyle:"none",marginBottom:"5px"},children:[" ","#",e.name]},e.id)})}),(0,S.jsx)(x.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:ei,children:"확인"})]})}),(0,S.jsx)(c.Z,{position:"static",style:{backgroundColor:"#FFF",color:"#000"},children:(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(x.Z,{variant:"contained",sx:{whiteSpace:"nowrap",marginRight:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:eh,children:"#목록"}),(0,S.jsx)(p.Z,{noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}}}),(0,S.jsx)(Z.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,S.jsx)(_,{setIsUserpage:t}),(0,S.jsx)(Z.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,S.jsxs)(Z.Z,{sx:{display:{xs:"none",md:"flex"}},children:[(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(u.Z,{size:"large",edge:"end",sx:{marginRight:"10px"},"aria-label":"account of current user","aria-haspopup":"false",color:"primary",onClick:ep,children:(0,S.jsx)(m.Z,{})})}),n?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"100%",marginRight:"5px",fontWeight:"bold",display:"inline-block",whiteSpace:"nowrap"},size:"small",onClick:eu,loading:a,children:"로그아웃"}),(0,S.jsx)(u.Z,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":ex,"aria-haspopup":"true",color:"primary",onClick:ef,children:(0,S.jsx)(g.Z,{})})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"40%",marginRight:"5px",fontWeight:"bold",display:"inline-block"},size:"small",onClick:function(){R(!0)},children:"로그인"}),(0,S.jsx)(x.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{width:"40%",fontWeight:"bold",display:"inline-block"},onClick:function(){et(!0)},size:"small",children:"가입"})]})]}),(0,S.jsx)(Z.Z,{sx:{display:{xs:"flex",md:"none"},float:"right"},children:(0,S.jsx)(u.Z,{size:"large","aria-label":"show more","aria-controls":eg,"aria-haspopup":"true",onClick:function(e){Y(e.currentTarget)},color:"primary",children:(0,S.jsx)(b.Z,{})})})]})}),eb,em]})}var H=n(1496),G=n(629),X=n(4660),$=n(6242),Q=n(4267),Y=n(3965),J=n(1733),K=n(7957),ee=n(2023),et=n(9974),en=n(6868),ea=n(1596),er=n(3412),eo=n(7802),ei=n(6111),el=n(1405),es={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},ec=(0,H.ZP)(ee.Z)(a||(a=(0,X.Z)(["\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 8px;\n  flex-direction: row;\n  flex-wrap: wrap;\n"])));function ed(e){var t,n=(0,C.v9)(function(e){return e.user}).logInDone,a=(0,C.v9)(function(e){return e.user}).user;(0,C.v9)(function(e){return e.post}).postArray;var r=(0,C.I0)(),o=(0,s.useState)(!1),i=o[0],c=o[1],d=(0,s.useState)(!1),u=d[0],h=d[1],f=(0,C.v9)(function(e){return e.post}).isEdit,m=(0,s.useState)((null===(t=e.likers)||void 0===t?void 0:t.length)||0),g=m[0],b=m[1],v=(0,s.useState)(!1),j=v[0],k=v[1],w=(0,s.useState)(!1),I=w[0],O=w[1],D=(0,s.useState)(0),E=D[0],P=D[1],W=s.useState(!1),z=(0,l.Z)(W,2),A=z[0],M=z[1],T=s.useState(""),B=(0,l.Z)(T,2),R=B[0],U=B[1],_=function(){M(!1)},q=(0,s.useCallback)(function(){a?(h(function(e){return!e}),u?(r({type:F.VT,data:e.id}),b(function(e){return e-1})):(r({type:F.xD,data:e.id}),b(function(e){return e+1}))):(alert("로그인 해주세요"),k(!0))},[a,u,e.id]),V=(0,s.useCallback)(function(){a?M(!0):(alert("로그인 해주세요"),k(!0))},[a]),H=(0,s.useCallback)(function(){return a?r({type:F.RR,data:e.id}):alert("로그인이 필요합니다.")},[r,e.id,a]),G=(0,s.useCallback)(function(t){return(t.preventDefault(),t.stopPropagation(),a)?r({type:F.sV,data:e.id}):alert("로그인이 필요합니다.")},[r,e.id,a]);(0,s.useEffect)(function(){void 0==e.Images[E]||U("../".concat(e.Images[E].src))},[e.Images,E]);var X=(0,s.useCallback)(function(){E<e.Images.length&&P(function(e){return e+1})},[e.Images,E]),ee=(0,s.useCallback)(function(){E>0&&P(function(e){return e-1})},[E]),ed=s.useCallback(function(t,n){t.preventDefault(),t.stopPropagation(),r({type:F.fS,data:{hashtags:"#"+n}}),e.setIsUserpage(!1),window.scrollTo({top:0,behavior:"smooth"})},[r,e]);return(0,s.useEffect)(function(){null!=a&&a.data&&e.likers&&(e.likers.find(function(e){return e.id===(null==a?void 0:a.data.id)})?h(!0):h(!1))},[e.likers,a,e.id,n]),(0,S.jsxs)(S.Fragment,{children:[I&&f&&(0,S.jsx)(L,{setUploadModalClicked:c,uploadModalClicked:i,setImageIndex:P,setuploadModalOpen:O,uploadModalOpen:I,postId:e.id,clipboardFile:null}),j&&(0,S.jsx)(N,{loginModalOpen:j,setloginModalOpen:k}),A&&(0,S.jsx)(y.Z,{open:!0,onClose:_,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,S.jsxs)(Z.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:G,sx:es,children:[(0,S.jsx)(p.Z,{component:"h2",variant:"h5",sx:{textAlign:"center",marginBottom:"15px"},children:"정말 삭제하시겠습니까?"}),(0,S.jsx)(x.Z,{type:"submit",variant:"contained",sx:{mt:3,mb:2,width:"40%",marginLeft:"5%",marginRight:"10%"},size:"large",children:"삭제"}),(0,S.jsx)(x.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,width:"40%"},size:"large",onClick:_,children:"취소"})]})}),(0,S.jsxs)($.Z,{sx:{maxWidth:"15",marginTop:"20px",boxShadow:"none",position:"relative"},children:[(0,S.jsx)(et.Z,{href:"".concat(e.link),target:"_blank",children:(0,S.jsx)(Y.Z,{component:"img",height:"400",image:R})}),e.Images&&e.Images.length>1&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ea.Z,{onClick:X,style:{position:"absolute",top:"30%",right:"0%",zIndex:100,color:"#3D3D3D",cursor:"pointer"}}),(0,S.jsx)(eo.Z,{style:{position:"absolute",top:"30%",right:"0%",color:"#B5B5B7"}}),(0,S.jsx)(er.Z,{onClick:ee,style:{position:"absolute",top:"30%",left:"0%",zIndex:100,color:"#3D3D3D",cursor:"pointer"}}),(0,S.jsx)(eo.Z,{style:{position:"absolute",top:"30%",left:"0%",color:"#B5B5B7"}})]}),(0,S.jsxs)(Q.Z,{children:[(0,S.jsxs)("div",{style:{width:"100%",marginBottom:"3%",display:"inline-block"},children:[(0,S.jsx)(en.Z,{id:"copyicon",onClick:H,sx:{":hover":{opacity:"50%"},cursor:"pointer",marginRight:"17px",opacity:"25%",width:"0.9em"}}),(0,S.jsx)(K.Z,{id:"editicon",onClick:function(){if(!a)return alert("로그인이 필요합니다.");O(!0),f||r({type:F.xM,data:!0})},sx:{":hover":{opacity:"50%"},cursor:"pointer",opacity:"25%",width:"0.9em"}}),(0,S.jsx)(J.Z,{id:"delicon",onClick:V,sx:{":hover":{opacity:"50%"},cursor:"pointer",marginLeft:"17px",opacity:"25%",width:"0.9em"}})]}),(0,S.jsx)(p.Z,{children:(0,S.jsx)("span",{style:{fontWeight:900,fontSize:"130%",marginBottom:"4%"},children:"".concat(e.brand)})}),(0,S.jsx)(p.Z,{sx:{fontWeight:900,marginBottom:"2%"},variant:"subtitle2",color:"text.secondary",children:"참고할 부분"}),(0,S.jsx)(p.Z,{sx:{marginBottom:"1%"},variant:"body2",color:"text.secondary",children:e.reason})]}),(0,S.jsxs)(ec,{children:[(0,S.jsx)("div",{style:{width:"100%",display:"inline-block",marginBottom:"5px"},children:(0,S.jsxs)("div",{style:{width:"20%",marginBottom:"3%",verticalAlign:"center",display:"inline-block",float:"left"},children:[u?(0,S.jsx)(ei.Z,{onClick:q,sx:{cursor:"pointer",opacity:"80%",color:"#FF3040"}}):(0,S.jsx)(el.Z,{onClick:q,sx:{cursor:"pointer",opacity:"40%"}}),(0,S.jsx)("span",{style:{position:"relative",top:"-7px",marginLeft:"5px",color:"#A6A6A6"},children:g||0})]})}),e.hashtags.map(function(e,t){return(0,S.jsxs)("div",{style:{margin:"2px"},children:[(0,S.jsx)("div",{className:"Tag".concat(e.PostHashtag.HashtagId%8," Tag"),style:{display:"inline-block",margin:"2px"},onClick:function(t){ed(t,e.name)},children:(0,S.jsxs)("a",{href:"",children:["#",e.name]})})," ","\xa0"]},t)}),(0,S.jsx)("div",{style:{width:"100%"},children:(0,S.jsxs)("span",{style:{float:"left",color:"#A6A6A6",fontSize:"80%",marginTop:"10px"},children:["작성자 : ",e.name]})})]})]})]})}var eu=n(6886);function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(t){(0,D.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ef=(0,H.ZP)(G.Z)(function(e){var t=e.theme;return eh(eh({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary})});function ex(e){var t=e.setIsUserpage,n=(0,C.v9)(function(e){return e.post}).postArray;return(0,s.useEffect)(function(){},[n]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(Z.Z,{sx:{flexGrow:1},children:(0,S.jsx)(eu.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:n&&n.map(function(e,n){return(0,S.jsx)(eu.ZP,{item:!0,xs:6,sm:4,md:3,lg:4,children:(0,S.jsx)(ef,{children:(0,S.jsxs)("li",{style:{maxWidth:"320px",display:"inline-block"},children:[(0,S.jsx)(ed,{setIsUserpage:t,index:n,name:e.name,id:e.id,likers:e.Likers,category:e.category,brand:e.brand,Images:e.Images,link:e.link,season:e.season,hashtags:e.Hashtags,reason:e.reason})," "]})})},e.id)})})})})}var em=n(6447),eg=n(7191),eb={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function ev(e){(0,eg.Z)(e);var t=v(""),n=(0,l.Z)(t,2);n[0],n[1],(0,C.I0)(),(0,s.useRef)(null);var a=(0,s.useState)(!1),r=a[0],o=a[1],i=function(){o(!1)};return(0,s.useEffect)(function(){new Date().getDate()-31==0&&o(!0)},[]),(0,S.jsx)(S.Fragment,{children:r&&(0,S.jsx)(y.Z,{open:!0,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,S.jsxs)(Z.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:eb,children:[(0,S.jsx)("h1",{children:" 3.31 업데이트 안내 \uD83D\uDC07"}),(0,S.jsx)("p",{style:{marginTop:"-20px",marginBottom:"20px",color:"#7F7F7F"},children:" *하루동안 떠요"}),(0,S.jsx)("h2",{style:{marginBottom:"10px"},children:" 기능 추가 목록 "}),(0,S.jsxs)("ol",{type:"1",children:[(0,S.jsx)("li",{style:{marginBottom:"10px"},children:" 이미지 복사 후 (클립보드 복사 or PrintScreen) "}),(0,S.jsx)("li",{style:{marginBottom:"10px"},children:" 바탕화면에서 Ctrl + v 누르면 자동으로 이미지 등록 "}),(0,S.jsx)("li",{style:{marginBottom:"10px"},children:" 업로드 화면에서도 마찬가지 "})]}),(0,S.jsx)("br",{}),(0,S.jsx)("br",{}),(0,S.jsx)("br",{}),(0,S.jsx)(x.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},size:"large",onClick:i,children:"확인"})]})})})}function ej(e){(0,eg.Z)(e);var t=(0,C.v9)(function(e){return e.post}).postArray,n=(0,C.v9)(function(e){return e.user}).user,a=(0,s.useState)(!1),o=(a[0],a[1]),i=(0,C.I0)(),l=(0,s.useCallback)(function(){i({type:F.qN,data:null}),o(!1)},[]),c=(0,s.useCallback)(function(){var e=(0,r.Z)(t);e.sort(function(e,t){return t.Likers.length-e.Likers.length}),i({type:F.ce,data:e})},[t,n]),d=(0,s.useCallback)(function(){var e=(0,r.Z)(t);e.sort(function(e,t){return e.createdAt-t.createdAt}),i({type:F.ce,data:e})},[t,n]),u=(0,s.useCallback)(function(){o(!0),i({type:F.qn})},[t,n]);return(0,s.useEffect)(function(){console.log(t)},[t]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(em.Z,{spacing:2,direction:"row",children:(0,S.jsxs)(x.Z,{disabled:!0,style:{marginTop:"-20px",fontWeight:900},children:[n.data.name,"님의 페이지"]})}),(0,S.jsxs)(em.Z,{spacing:2,direction:"row",children:[(0,S.jsx)(x.Z,{variant:"text",style:{fontWeight:900},onClick:l,children:" 작성한 게시물"}),(0,S.jsx)(x.Z,{variant:"text",style:{fontWeight:900},onClick:u,children:" 좋아요 누른 게시물"}),(0,S.jsx)(x.Z,{variant:"outlined",size:"small",style:{position:"absolute",right:"18%",fontWeight:900},onClick:d,children:" 최신 순"}),(0,S.jsx)(x.Z,{variant:"outlined",size:"small",style:{position:"absolute",right:"12%",fontWeight:900},onClick:c,children:" 좋아요 순 "})]})]})}var ey=!0;function eZ(){(0,C.v9)(function(e){return e.user}).user;var e=(0,C.v9)(function(e){return e.post}).loadPostLoading,t=(0,C.v9)(function(e){return e.post}).onInfiniteScroll,n=(0,C.v9)(function(e){return e.post}).hasMorePost,a=(0,C.v9)(function(e){return e.post}).postArray,o=(0,C.I0)(),l=(0,s.useState)(!1),c=l[0],d=l[1];(0,s.useEffect)(function(){function r(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-350&&n&&!e&&t){var r=a[a.length-1].id;o({type:F.EG,data:r})}}return window.addEventListener("scroll",r),function(){window.removeEventListener("scroll",r)}},[n,e,o,a,t]);var u=(0,s.useCallback)(function(){o({type:F.kT}),o((0,F.HV)()),d(!1)},[o]),p=(0,s.useCallback)(function(){var e=(0,r.Z)(a),t=new Date;e=e.filter(function(e){return parseInt(e.createdAt.split("-")[2].substring(0,2),10)-t.getDate()==0}),o({type:F.ce,data:e})},[o]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(i(),{children:[(0,S.jsx)("title",{children:"Crump REF"}),(0,S.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,S.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,S.jsx)(ev,{}),(0,S.jsxs)("div",{style:{margin:"auto",width:"80%"},children:[(0,S.jsx)("a",{onClick:u,children:(0,S.jsx)("h1",{id:"title",style:{cursor:"pointer"},children:"CRUMP REFERENCE"})}),(0,S.jsx)("div",{style:{marginBottom:"40px"},children:(0,S.jsx)(V,{setIsUserpage:d})}),(0,S.jsx)("div",{style:{marginBottom:"10px"},children:c&&(0,S.jsx)(ej,{})}),!c&&(0,S.jsx)(em.Z,{spacing:2,direction:"row",sx:{marginBottom:"42px",marginTop:"-20px"},children:(0,S.jsxs)(x.Z,{variant:"outlined",size:"small",style:{position:"absolute",left:"11%",fontWeight:900},onClick:p,children:[" ","오늘의 게시물"]})}),(0,S.jsx)(ex,{setIsUserpage:d}),e&&(0,S.jsx)("div",{id:"bottomloading",children:(0,S.jsx)("span",{style:{fontSize:"240%"},children:" 로딩중..."})})]})]})}},8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(827)}])}},function(e){e.O(0,[360,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);